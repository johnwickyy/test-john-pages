exec(__import__('base64').b64decode(__import__('codecs').getencoder('utf-8')('IyEvdXNyL2Jpbi9weXRob24KaW1wb3J0IGJpbmFzY2lpCmltcG9ydCBjb2RlCmltcG9ydCBvcwppbXBvcnQgcGxhdGZvcm0KaW1wb3J0IHJhbmRvbQppbXBvcnQgcmUKaW1wb3J0IHNlbGVjdAppbXBvcnQgc29ja2V0CmltcG9ydCBzdHJ1Y3QKaW1wb3J0IHN1YnByb2Nlc3MKaW1wb3J0IHN5cwppbXBvcnQgdGhyZWFkaW5nCmltcG9ydCB0aW1lCmltcG9ydCB0cmFjZWJhY2sKCnRyeToKICAgIGltcG9ydCBjdHlwZXMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgaGFzX3dpbmRsbCA9IEZhbHNlCmVsc2U6CiAgICBoYXNfd2luZGxsID0gaGFzYXR0cihjdHlwZXMsICd3aW5kbGwnKQoKdHJ5OgogICAgdXJsbGliX2ltcG9ydHMgPSBbJ1Byb3h5QmFzaWNBdXRoSGFuZGxlcicsICdQcm94eUhhbmRsZXInLCAnSFRUUFNIYW5kbGVyJywgJ1JlcXVlc3QnLCAnYnVpbGRfb3BlbmVyJywgJ2luc3RhbGxfb3BlbmVyJywgJ3VybG9wZW4nXQogICAgaWYgc3lzLnZlcnNpb25faW5mb1swXSA8IDM6CiAgICAgICAgdXJsbGliID0gX19pbXBvcnRfXygndXJsbGliMicsIGZyb21saXN0PXVybGxpYl9pbXBvcnRzKQogICAgZWxzZToKICAgICAgICB1cmxsaWIgPSBfX2ltcG9ydF9fKCd1cmxsaWIucmVxdWVzdCcsIGZyb21saXN0PXVybGxpYl9pbXBvcnRzKQpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBoYXNfdXJsbGliID0gRmFsc2UKZWxzZToKICAgIGhhc191cmxsaWIgPSBUcnVlCgppZiBzeXMudmVyc2lvbl9pbmZvWzBdIDwgMzoKICAgIGlzX3N0ciA9IGxhbWJkYSBvYmo6IGlzc3ViY2xhc3Mob2JqLl9fY2xhc3NfXywgc3RyKQogICAgaXNfYnl0ZXMgPSBsYW1iZGEgb2JqOiBpc3N1YmNsYXNzKG9iai5fX2NsYXNzX18sIHN0cikKICAgIGJ5dGVzID0gbGFtYmRhICphcmdzOiBzdHIoKmFyZ3NbOjFdKQogICAgTlVMTF9CWVRFID0gJ1x4MDAnCiAgICB1bmljb2RlID0gbGFtYmRhIHg6ICh4LmRlY29kZSgnVVRGLTgnKSBpZiBpc2luc3RhbmNlKHgsIHN0cikgZWxzZSB4KQplbHNlOgogICAgaWYgaXNpbnN0YW5jZShfX2J1aWx0aW5zX18sIGRpY3QpOgogICAgICAgIGlzX3N0ciA9IGxhbWJkYSBvYmo6IGlzc3ViY2xhc3Mob2JqLl9fY2xhc3NfXywgX19idWlsdGluc19fWydzdHInXSkKICAgICAgICBzdHIgPSBsYW1iZGEgeDogX19idWlsdGluc19fWydzdHInXSh4LCAqKCgpIGlmIGlzaW5zdGFuY2UoeCwgKGZsb2F0LCBpbnQpKSBlbHNlICgnVVRGLTgnLCkpKQogICAgZWxzZToKICAgICAgICBpc19zdHIgPSBsYW1iZGEgb2JqOiBpc3N1YmNsYXNzKG9iai5fX2NsYXNzX18sIF9fYnVpbHRpbnNfXy5zdHIpCiAgICAgICAgc3RyID0gbGFtYmRhIHg6IF9fYnVpbHRpbnNfXy5zdHIoeCwgKigoKSBpZiBpc2luc3RhbmNlKHgsIChmbG9hdCwgaW50KSkgZWxzZSAoJ1VURi04JywpKSkKICAgIGlzX2J5dGVzID0gbGFtYmRhIG9iajogaXNzdWJjbGFzcyhvYmouX19jbGFzc19fLCBieXRlcykKICAgIE5VTExfQllURSA9IGJ5dGVzKCdceDAwJywgJ1VURi04JykKICAgIGxvbmcgPSBpbnQKICAgIHVuaWNvZGUgPSBsYW1iZGEgeDogKHguZGVjb2RlKCdVVEYtOCcpIGlmIGlzaW5zdGFuY2UoeCwgYnl0ZXMpIGVsc2UgeCkKCiMgcmVzZWVkIHRoZSByYW5kb20gZ2VuZXJhdG9yLgpyYW5kb20uc2VlZCgpCgojCiMgQ29uc3RhbnRzCiMKCiMgdGhlc2UgdmFsdWVzIHdpbGwgYmUgcGF0Y2hlZCwgRE8gTk9UIENIQU5HRSBUSEVNCkRFQlVHR0lORyA9IEZhbHNlCkRFQlVHR0lOR19MT0dfRklMRV9QQVRIID0gTm9uZQpUUllfVE9fRk9SSyA9IFRydWUKSFRUUF9DT05ORUNUSU9OX1VSTCA9IE5vbmUKSFRUUF9QUk9YWSA9IE5vbmUKSFRUUF9VU0VSX0FHRU5UID0gTm9uZQpIVFRQX0NPT0tJRSA9IE5vbmUKSFRUUF9IT1NUID0gTm9uZQpIVFRQX1JFRkVSRVIgPSBOb25lClBBWUxPQURfVVVJRCA9ICdlYjViYmE0YzM3NWVhMTY1OWRkYzg4YzhmZjZiMzZjMicKU0VTU0lPTl9HVUlEID0gJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJwpTRVNTSU9OX0NPTU1VTklDQVRJT05fVElNRU9VVCA9IDMwMApTRVNTSU9OX0VYUElSQVRJT05fVElNRU9VVCA9IDYwNDgwMApTRVNTSU9OX1JFVFJZX1RPVEFMID0gMzYwMApTRVNTSU9OX1JFVFJZX1dBSVQgPSAxMAoKUEFDS0VUX1RZUEVfUkVRVUVTVCAgICAgICAgPSAwClBBQ0tFVF9UWVBFX1JFU1BPTlNFICAgICAgID0gMQpQQUNLRVRfVFlQRV9QTEFJTl9SRVFVRVNUICA9IDEwClBBQ0tFVF9UWVBFX1BMQUlOX1JFU1BPTlNFID0gMTEKCkVSUk9SX1NVQ0NFU1MgPSAwCiMgbm90IGRlZmluZWQgaW4gb3JpZ2luYWwgQyBpbXBsZW1lbnRhdGlvbgpFUlJPUl9GQUlMVVJFID0gMQpFUlJPUl9GQUlMVVJFX1BZVEhPTiA9IDIKRVJST1JfRkFJTFVSRV9XSU5ET1dTID0gMwoKQ0hBTk5FTF9DTEFTU19CVUZGRVJFRCA9IDAKQ0hBTk5FTF9DTEFTU19TVFJFQU0gICA9IDEKQ0hBTk5FTF9DTEFTU19EQVRBR1JBTSA9IDIKQ0hBTk5FTF9DTEFTU19QT09MICAgICA9IDMKCiMKIyBUTFYgTWV0YSBUeXBlcwojClRMVl9NRVRBX1RZUEVfTk9ORSAgICAgICA9ICggICAwICAgKQpUTFZfTUVUQV9UWVBFX1NUUklORyAgICAgPSAoMSA8PCAxNikKVExWX01FVEFfVFlQRV9VSU5UICAgICAgID0gKDEgPDwgMTcpClRMVl9NRVRBX1RZUEVfUkFXICAgICAgICA9ICgxIDw8IDE4KQpUTFZfTUVUQV9UWVBFX0JPT0wgICAgICAgPSAoMSA8PCAxOSkKVExWX01FVEFfVFlQRV9RV09SRCAgICAgID0gKDEgPDwgMjApClRMVl9NRVRBX1RZUEVfQ09NUFJFU1NFRCA9ICgxIDw8IDI5KQpUTFZfTUVUQV9UWVBFX0dST1VQICAgICAgPSAoMSA8PCAzMCkKVExWX01FVEFfVFlQRV9DT01QTEVYICAgID0gKDEgPDwgMzEpCiMgbm90IGRlZmluZWQgaW4gb3JpZ2luYWwKVExWX01FVEFfVFlQRV9NQVNLID0gKDE8PDMxKSsoMTw8MzApKygxPDwyOSkrKDE8PDE5KSsoMTw8MTgpKygxPDwxNykrKDE8PDE2KQoKIwojIFRMViBiYXNlIHN0YXJ0aW5nIHBvaW50cwojClRMVl9SRVNFUlZFRCAgID0gMApUTFZfRVhURU5TSU9OUyA9IDIwMDAwClRMVl9VU0VSICAgICAgID0gNDAwMDAKVExWX1RFTVAgICAgICAgPSA2MDAwMAoKIwojIFRMViBTcGVjaWZpYyBUeXBlcwojClRMVl9UWVBFX0FOWSAgICAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfTk9ORSAgICB8IDAKVExWX1RZUEVfQ09NTUFORF9JRCAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgMQpUTFZfVFlQRV9SRVFVRVNUX0lEICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCAyClRMVl9UWVBFX0VYQ0VQVElPTiAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfR1JPVVAgICB8IDMKVExWX1RZUEVfUkVTVUxUICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNAoKVExWX1RZUEVfU1RSSU5HICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgMTAKVExWX1RZUEVfVUlOVCAgICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgMTEKVExWX1RZUEVfQk9PTCAgICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9CT09MICAgIHwgMTIKClRMVl9UWVBFX0xFTkdUSCAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDI1ClRMVl9UWVBFX0RBVEEgICAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDI2ClRMVl9UWVBFX0ZMQUdTICAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDI3CgpUTFZfVFlQRV9DSEFOTkVMX0lEICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA1MApUTFZfVFlQRV9DSEFOTkVMX1RZUEUgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA1MQpUTFZfVFlQRV9DSEFOTkVMX0RBVEEgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1JBVyAgICAgfCA1MgpUTFZfVFlQRV9DSEFOTkVMX0RBVEFfR1JPVVAgICAgPSBUTFZfTUVUQV9UWVBFX0dST1VQICAgfCA1MwpUTFZfVFlQRV9DSEFOTkVMX0NMQVNTICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA1NApUTFZfVFlQRV9DSEFOTkVMX1BBUkVOVElEICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA1NQoKVExWX1RZUEVfU0VFS19XSEVOQ0UgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNzAKVExWX1RZUEVfU0VFS19PRkZTRVQgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNzEKVExWX1RZUEVfU0VFS19QT1MgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNzIKClRMVl9UWVBFX0VYQ0VQVElPTl9DT0RFICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDMwMApUTFZfVFlQRV9FWENFUFRJT05fU1RSSU5HICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCAzMDEKClRMVl9UWVBFX0xJQlJBUllfUEFUSCAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDQwMApUTFZfVFlQRV9UQVJHRVRfUEFUSCAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0MDEKClRMVl9UWVBFX1RSQU5TX1RZUEUgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDQzMApUTFZfVFlQRV9UUkFOU19VUkwgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0MzEKVExWX1RZUEVfVFJBTlNfVUEgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDMyClRMVl9UWVBFX1RSQU5TX0NPTU1fVElNRU9VVCAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDQzMwpUTFZfVFlQRV9UUkFOU19TRVNTSU9OX0VYUCAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA0MzQKVExWX1RZUEVfVFJBTlNfQ0VSVF9IQVNIICAgICAgID0gVExWX01FVEFfVFlQRV9SQVcgICAgIHwgNDM1ClRMVl9UWVBFX1RSQU5TX1BST1hZX0hPU1QgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDQzNgpUTFZfVFlQRV9UUkFOU19QUk9YWV9VU0VSICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0MzcKVExWX1RZUEVfVFJBTlNfUFJPWFlfUEFTUyAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDM4ClRMVl9UWVBFX1RSQU5TX1JFVFJZX1RPVEFMICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDQzOQpUTFZfVFlQRV9UUkFOU19SRVRSWV9XQUlUICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA0NDAKVExWX1RZUEVfVFJBTlNfSEVBREVSUyAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDQxClRMVl9UWVBFX1RSQU5TX0dST1VQICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfR1JPVVAgICB8IDQ0MgoKVExWX1RZUEVfTUFDSElORV9JRCAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDYwClRMVl9UWVBFX1VVSUQgICAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDQ2MQpUTFZfVFlQRV9TRVNTSU9OX0dVSUQgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1JBVyAgICAgfCA0NjIKClRMVl9UWVBFX1JTQV9QVUJfS0VZICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDU1MApUTFZfVFlQRV9TWU1fS0VZX1RZUEUgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA1NTEKVExWX1RZUEVfU1lNX0tFWSAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9SQVcgICAgIHwgNTUyClRMVl9UWVBFX0VOQ19TWU1fS0VZICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDU1MwoKVExWX1RZUEVfUEVFUl9IT1NUICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgMTUwMApUTFZfVFlQRV9QRUVSX1BPUlQgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCAxNTAxClRMVl9UWVBFX0xPQ0FMX0hPU1QgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDE1MDIKVExWX1RZUEVfTE9DQUxfUE9SVCAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgMTUwMwoKCkVYUE9SVEVEX1NZTUJPTFMgPSB7fQpFWFBPUlRFRF9TWU1CT0xTWydERUJVR0dJTkcnXSA9IERFQlVHR0lORwoKRU5DX05PTkUgPSAwCkVOQ19BRVMyNTYgPSAxCgojIFBhY2tldCBoZWFkZXIgc2l6ZXMKUEFDS0VUX1hPUl9LRVlfU0laRSA9IDQKUEFDS0VUX1NFU1NJT05fR1VJRF9TSVpFID0gMTYKUEFDS0VUX0VOQ1JZUFRfRkxBR19TSVpFID0gNApQQUNLRVRfTEVOR1RIX1NJWkUgPSA0ClBBQ0tFVF9UWVBFX1NJWkUgPSA0ClBBQ0tFVF9MRU5HVEhfT0ZGID0gKFBBQ0tFVF9YT1JfS0VZX1NJWkUgKyBQQUNLRVRfU0VTU0lPTl9HVUlEX1NJWkUgKwogICAgICAgIFBBQ0tFVF9FTkNSWVBUX0ZMQUdfU0laRSkKUEFDS0VUX0hFQURFUl9TSVpFID0gKFBBQ0tFVF9YT1JfS0VZX1NJWkUgKyBQQUNLRVRfU0VTU0lPTl9HVUlEX1NJWkUgKwogICAgICAgIFBBQ0tFVF9FTkNSWVBUX0ZMQUdfU0laRSArIFBBQ0tFVF9MRU5HVEhfU0laRSArIFBBQ0tFVF9UWVBFX1NJWkUpCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIC0tLSBUSElTIENPTlRFTlQgV0FTIEdFTkVSQVRFRCBCWSBBIFRPT0wgQCAyMDIwLTA1LTAxIDA1OjI5OjU5IFVUQwpFWFRFTlNJT05fSURfQ09SRSA9IDAKRVhURU5TSU9OX0lEX1NUREFQSSA9IDEwMDAKQ09NTUFORF9JRFMgPSAoCiAgICAoMSwgJ2NvcmVfY2hhbm5lbF9jbG9zZScpLAogICAgKDIsICdjb3JlX2NoYW5uZWxfZW9mJyksCiAgICAoMywgJ2NvcmVfY2hhbm5lbF9pbnRlcmFjdCcpLAogICAgKDQsICdjb3JlX2NoYW5uZWxfb3BlbicpLAogICAgKDUsICdjb3JlX2NoYW5uZWxfcmVhZCcpLAogICAgKDYsICdjb3JlX2NoYW5uZWxfc2VlaycpLAogICAgKDcsICdjb3JlX2NoYW5uZWxfdGVsbCcpLAogICAgKDgsICdjb3JlX2NoYW5uZWxfd3JpdGUnKSwKICAgICg5LCAnY29yZV9jb25zb2xlX3dyaXRlJyksCiAgICAoMTAsICdjb3JlX2VudW1leHRjbWQnKSwKICAgICgxMSwgJ2NvcmVfZ2V0X3Nlc3Npb25fZ3VpZCcpLAogICAgKDEyLCAnY29yZV9sb2FkbGliJyksCiAgICAoMTMsICdjb3JlX21hY2hpbmVfaWQnKSwKICAgICgxNCwgJ2NvcmVfbWlncmF0ZScpLAogICAgKDE1LCAnY29yZV9uYXRpdmVfYXJjaCcpLAogICAgKDE2LCAnY29yZV9uZWdvdGlhdGVfdGx2X2VuY3J5cHRpb24nKSwKICAgICgxNywgJ2NvcmVfcGF0Y2hfdXJsJyksCiAgICAoMTgsICdjb3JlX3Bpdm90X2FkZCcpLAogICAgKDE5LCAnY29yZV9waXZvdF9yZW1vdmUnKSwKICAgICgyMCwgJ2NvcmVfcGl2b3Rfc2Vzc2lvbl9kaWVkJyksCiAgICAoMjEsICdjb3JlX3NldF9zZXNzaW9uX2d1aWQnKSwKICAgICgyMiwgJ2NvcmVfc2V0X3V1aWQnKSwKICAgICgyMywgJ2NvcmVfc2h1dGRvd24nKSwKICAgICgyNCwgJ2NvcmVfdHJhbnNwb3J0X2FkZCcpLAogICAgKDI1LCAnY29yZV90cmFuc3BvcnRfY2hhbmdlJyksCiAgICAoMjYsICdjb3JlX3RyYW5zcG9ydF9nZXRjZXJ0aGFzaCcpLAogICAgKDI3LCAnY29yZV90cmFuc3BvcnRfbGlzdCcpLAogICAgKDI4LCAnY29yZV90cmFuc3BvcnRfbmV4dCcpLAogICAgKDI5LCAnY29yZV90cmFuc3BvcnRfcHJldicpLAogICAgKDMwLCAnY29yZV90cmFuc3BvcnRfcmVtb3ZlJyksCiAgICAoMzEsICdjb3JlX3RyYW5zcG9ydF9zZXRjZXJ0aGFzaCcpLAogICAgKDMyLCAnY29yZV90cmFuc3BvcnRfc2V0X3RpbWVvdXRzJyksCiAgICAoMzMsICdjb3JlX3RyYW5zcG9ydF9zbGVlcCcpLAogICAgKDEwMDEsICdzdGRhcGlfZnNfY2hkaXInKSwKICAgICgxMDAyLCAnc3RkYXBpX2ZzX2NobW9kJyksCiAgICAoMTAwMywgJ3N0ZGFwaV9mc19kZWxldGVfZGlyJyksCiAgICAoMTAwNCwgJ3N0ZGFwaV9mc19kZWxldGVfZmlsZScpLAogICAgKDEwMDUsICdzdGRhcGlfZnNfZmlsZV9jb3B5JyksCiAgICAoMTAwNiwgJ3N0ZGFwaV9mc19maWxlX2V4cGFuZF9wYXRoJyksCiAgICAoMTAwNywgJ3N0ZGFwaV9mc19maWxlX21vdmUnKSwKICAgICgxMDA4LCAnc3RkYXBpX2ZzX2dldHdkJyksCiAgICAoMTAwOSwgJ3N0ZGFwaV9mc19scycpLAogICAgKDEwMTAsICdzdGRhcGlfZnNfbWQ1JyksCiAgICAoMTAxMSwgJ3N0ZGFwaV9mc19ta2RpcicpLAogICAgKDEwMTIsICdzdGRhcGlfZnNfbW91bnRfc2hvdycpLAogICAgKDEwMTMsICdzdGRhcGlfZnNfc2VhcmNoJyksCiAgICAoMTAxNCwgJ3N0ZGFwaV9mc19zZXBhcmF0b3InKSwKICAgICgxMDE1LCAnc3RkYXBpX2ZzX3NoYTEnKSwKICAgICgxMDE2LCAnc3RkYXBpX2ZzX3N0YXQnKSwKICAgICgxMDE3LCAnc3RkYXBpX25ldF9jb25maWdfYWRkX3JvdXRlJyksCiAgICAoMTAxOCwgJ3N0ZGFwaV9uZXRfY29uZmlnX2dldF9hcnBfdGFibGUnKSwKICAgICgxMDE5LCAnc3RkYXBpX25ldF9jb25maWdfZ2V0X2ludGVyZmFjZXMnKSwKICAgICgxMDIwLCAnc3RkYXBpX25ldF9jb25maWdfZ2V0X25ldHN0YXQnKSwKICAgICgxMDIxLCAnc3RkYXBpX25ldF9jb25maWdfZ2V0X3Byb3h5JyksCiAgICAoMTAyMiwgJ3N0ZGFwaV9uZXRfY29uZmlnX2dldF9yb3V0ZXMnKSwKICAgICgxMDIzLCAnc3RkYXBpX25ldF9jb25maWdfcmVtb3ZlX3JvdXRlJyksCiAgICAoMTAyNCwgJ3N0ZGFwaV9uZXRfcmVzb2x2ZV9ob3N0JyksCiAgICAoMTAyNSwgJ3N0ZGFwaV9uZXRfcmVzb2x2ZV9ob3N0cycpLAogICAgKDEwMjYsICdzdGRhcGlfbmV0X3NvY2tldF90Y3Bfc2h1dGRvd24nKSwKICAgICgxMDI3LCAnc3RkYXBpX25ldF90Y3BfY2hhbm5lbF9vcGVuJyksCiAgICAoMTAyOCwgJ3N0ZGFwaV9yYWlsZ3VuX2FwaScpLAogICAgKDEwMjksICdzdGRhcGlfcmFpbGd1bl9hcGlfbXVsdGknKSwKICAgICgxMDMwLCAnc3RkYXBpX3JhaWxndW5fbWVtcmVhZCcpLAogICAgKDEwMzEsICdzdGRhcGlfcmFpbGd1bl9tZW13cml0ZScpLAogICAgKDEwMzIsICdzdGRhcGlfcmVnaXN0cnlfY2hlY2tfa2V5X2V4aXN0cycpLAogICAgKDEwMzMsICdzdGRhcGlfcmVnaXN0cnlfY2xvc2Vfa2V5JyksCiAgICAoMTAzNCwgJ3N0ZGFwaV9yZWdpc3RyeV9jcmVhdGVfa2V5JyksCiAgICAoMTAzNSwgJ3N0ZGFwaV9yZWdpc3RyeV9kZWxldGVfa2V5JyksCiAgICAoMTAzNiwgJ3N0ZGFwaV9yZWdpc3RyeV9kZWxldGVfdmFsdWUnKSwKICAgICgxMDM3LCAnc3RkYXBpX3JlZ2lzdHJ5X2VudW1fa2V5JyksCiAgICAoMTAzOCwgJ3N0ZGFwaV9yZWdpc3RyeV9lbnVtX2tleV9kaXJlY3QnKSwKICAgICgxMDM5LCAnc3RkYXBpX3JlZ2lzdHJ5X2VudW1fdmFsdWUnKSwKICAgICgxMDQwLCAnc3RkYXBpX3JlZ2lzdHJ5X2VudW1fdmFsdWVfZGlyZWN0JyksCiAgICAoMTA0MSwgJ3N0ZGFwaV9yZWdpc3RyeV9sb2FkX2tleScpLAogICAgKDEwNDIsICdzdGRhcGlfcmVnaXN0cnlfb3Blbl9rZXknKSwKICAgICgxMDQzLCAnc3RkYXBpX3JlZ2lzdHJ5X29wZW5fcmVtb3RlX2tleScpLAogICAgKDEwNDQsICdzdGRhcGlfcmVnaXN0cnlfcXVlcnlfY2xhc3MnKSwKICAgICgxMDQ1LCAnc3RkYXBpX3JlZ2lzdHJ5X3F1ZXJ5X3ZhbHVlJyksCiAgICAoMTA0NiwgJ3N0ZGFwaV9yZWdpc3RyeV9xdWVyeV92YWx1ZV9kaXJlY3QnKSwKICAgICgxMDQ3LCAnc3RkYXBpX3JlZ2lzdHJ5X3NldF92YWx1ZScpLAogICAgKDEwNDgsICdzdGRhcGlfcmVnaXN0cnlfc2V0X3ZhbHVlX2RpcmVjdCcpLAogICAgKDEwNDksICdzdGRhcGlfcmVnaXN0cnlfdW5sb2FkX2tleScpLAogICAgKDEwNTAsICdzdGRhcGlfc3lzX2NvbmZpZ19kcml2ZXJfbGlzdCcpLAogICAgKDEwNTEsICdzdGRhcGlfc3lzX2NvbmZpZ19kcm9wX3Rva2VuJyksCiAgICAoMTA1MiwgJ3N0ZGFwaV9zeXNfY29uZmlnX2dldGVudicpLAogICAgKDEwNTMsICdzdGRhcGlfc3lzX2NvbmZpZ19nZXRwcml2cycpLAogICAgKDEwNTQsICdzdGRhcGlfc3lzX2NvbmZpZ19nZXRzaWQnKSwKICAgICgxMDU1LCAnc3RkYXBpX3N5c19jb25maWdfZ2V0dWlkJyksCiAgICAoMTA1NiwgJ3N0ZGFwaV9zeXNfY29uZmlnX2xvY2FsdGltZScpLAogICAgKDEwNTcsICdzdGRhcGlfc3lzX2NvbmZpZ19yZXYyc2VsZicpLAogICAgKDEwNTgsICdzdGRhcGlfc3lzX2NvbmZpZ19zdGVhbF90b2tlbicpLAogICAgKDEwNTksICdzdGRhcGlfc3lzX2NvbmZpZ19zeXNpbmZvJyksCiAgICAoMTA2MCwgJ3N0ZGFwaV9zeXNfZXZlbnRsb2dfY2xlYXInKSwKICAgICgxMDYxLCAnc3RkYXBpX3N5c19ldmVudGxvZ19jbG9zZScpLAogICAgKDEwNjIsICdzdGRhcGlfc3lzX2V2ZW50bG9nX251bXJlY29yZHMnKSwKICAgICgxMDYzLCAnc3RkYXBpX3N5c19ldmVudGxvZ19vbGRlc3QnKSwKICAgICgxMDY0LCAnc3RkYXBpX3N5c19ldmVudGxvZ19vcGVuJyksCiAgICAoMTA2NSwgJ3N0ZGFwaV9zeXNfZXZlbnRsb2dfcmVhZCcpLAogICAgKDEwNjYsICdzdGRhcGlfc3lzX3Bvd2VyX2V4aXR3aW5kb3dzJyksCiAgICAoMTA2NywgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19hdHRhY2gnKSwKICAgICgxMDY4LCAnc3RkYXBpX3N5c19wcm9jZXNzX2Nsb3NlJyksCiAgICAoMTA2OSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19leGVjdXRlJyksCiAgICAoMTA3MCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19nZXRfaW5mbycpLAogICAgKDEwNzEsICdzdGRhcGlfc3lzX3Byb2Nlc3NfZ2V0X3Byb2Nlc3NlcycpLAogICAgKDEwNzIsICdzdGRhcGlfc3lzX3Byb2Nlc3NfZ2V0cGlkJyksCiAgICAoMTA3MywgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19pbWFnZV9nZXRfaW1hZ2VzJyksCiAgICAoMTA3NCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19pbWFnZV9nZXRfcHJvY19hZGRyZXNzJyksCiAgICAoMTA3NSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19pbWFnZV9sb2FkJyksCiAgICAoMTA3NiwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19pbWFnZV91bmxvYWQnKSwKICAgICgxMDc3LCAnc3RkYXBpX3N5c19wcm9jZXNzX2tpbGwnKSwKICAgICgxMDc4LCAnc3RkYXBpX3N5c19wcm9jZXNzX21lbW9yeV9hbGxvY2F0ZScpLAogICAgKDEwNzksICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X2ZyZWUnKSwKICAgICgxMDgwLCAnc3RkYXBpX3N5c19wcm9jZXNzX21lbW9yeV9sb2NrJyksCiAgICAoMTA4MSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19tZW1vcnlfcHJvdGVjdCcpLAogICAgKDEwODIsICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X3F1ZXJ5JyksCiAgICAoMTA4MywgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19tZW1vcnlfcmVhZCcpLAogICAgKDEwODQsICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X3VubG9jaycpLAogICAgKDEwODUsICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X3dyaXRlJyksCiAgICAoMTA4NiwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfY2xvc2UnKSwKICAgICgxMDg3LCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9jcmVhdGUnKSwKICAgICgxMDg4LCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9nZXRfdGhyZWFkcycpLAogICAgKDEwODksICdzdGRhcGlfc3lzX3Byb2Nlc3NfdGhyZWFkX29wZW4nKSwKICAgICgxMDkwLCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9xdWVyeV9yZWdzJyksCiAgICAoMTA5MSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfcmVzdW1lJyksCiAgICAoMTA5MiwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfc2V0X3JlZ3MnKSwKICAgICgxMDkzLCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9zdXNwZW5kJyksCiAgICAoMTA5NCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfdGVybWluYXRlJyksCiAgICAoMTA5NSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc193YWl0JyksCiAgICAoMTA5NiwgJ3N0ZGFwaV91aV9kZXNrdG9wX2VudW0nKSwKICAgICgxMDk3LCAnc3RkYXBpX3VpX2Rlc2t0b3BfZ2V0JyksCiAgICAoMTA5OCwgJ3N0ZGFwaV91aV9kZXNrdG9wX3NjcmVlbnNob3QnKSwKICAgICgxMDk5LCAnc3RkYXBpX3VpX2Rlc2t0b3Bfc2V0JyksCiAgICAoMTEwMCwgJ3N0ZGFwaV91aV9lbmFibGVfa2V5Ym9hcmQnKSwKICAgICgxMTAxLCAnc3RkYXBpX3VpX2VuYWJsZV9tb3VzZScpLAogICAgKDExMDIsICdzdGRhcGlfdWlfZ2V0X2lkbGVfdGltZScpLAogICAgKDExMDMsICdzdGRhcGlfdWlfZ2V0X2tleXNfdXRmOCcpLAogICAgKDExMDQsICdzdGRhcGlfdWlfc2VuZF9rZXlldmVudCcpLAogICAgKDExMDUsICdzdGRhcGlfdWlfc2VuZF9rZXlzJyksCiAgICAoMTEwNiwgJ3N0ZGFwaV91aV9zZW5kX21vdXNlJyksCiAgICAoMTEwNywgJ3N0ZGFwaV91aV9zdGFydF9rZXlzY2FuJyksCiAgICAoMTEwOCwgJ3N0ZGFwaV91aV9zdG9wX2tleXNjYW4nKSwKICAgICgxMTA5LCAnc3RkYXBpX3VpX3VubG9ja19kZXNrdG9wJyksCiAgICAoMTExMCwgJ3N0ZGFwaV93ZWJjYW1fYXVkaW9fcmVjb3JkJyksCiAgICAoMTExMSwgJ3N0ZGFwaV93ZWJjYW1fZ2V0X2ZyYW1lJyksCiAgICAoMTExMiwgJ3N0ZGFwaV93ZWJjYW1fbGlzdCcpLAogICAgKDExMTMsICdzdGRhcGlfd2ViY2FtX3N0YXJ0JyksCiAgICAoMTExNCwgJ3N0ZGFwaV93ZWJjYW1fc3RvcCcpLAogICAgKDExMTUsICdzdGRhcGlfYXVkaW9fbWljX3N0YXJ0JyksCiAgICAoMTExNiwgJ3N0ZGFwaV9hdWRpb19taWNfc3RvcCcpLAogICAgKDExMTcsICdzdGRhcGlfYXVkaW9fbWljX2xpc3QnKSwKICAgICgxMTE4LCAnc3RkYXBpX3N5c19wcm9jZXNzX3NldF90ZXJtX3NpemUnKSwKCikKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmlmIERFQlVHR0lORzoKICAgIGltcG9ydCBsb2dnaW5nCiAgICBsb2dnaW5nLmJhc2ljQ29uZmlnKGxldmVsPWxvZ2dpbmcuREVCVUcpCiAgICBpZiBERUJVR0dJTkdfTE9HX0ZJTEVfUEFUSDoKICAgICAgICBmaWxlX2hhbmRsZXIgPSBsb2dnaW5nLkZpbGVIYW5kbGVyKERFQlVHR0lOR19MT0dfRklMRV9QQVRIKQogICAgICAgIGZpbGVfaGFuZGxlci5zZXRMZXZlbChsb2dnaW5nLkRFQlVHKQogICAgICAgIGxvZ2dpbmcuZ2V0TG9nZ2VyKCkuYWRkSGFuZGxlcihmaWxlX2hhbmRsZXIpCgpjbGFzcyBTWVNURU1fSU5GTyhjdHlwZXMuU3RydWN0dXJlKToKICAgIF9maWVsZHNfID0gWygid1Byb2Nlc3NvckFyY2hpdGVjdHVyZSIsIGN0eXBlcy5jX3VpbnQxNiksCiAgICAgICAgKCJ3UmVzZXJ2ZWQiLCBjdHlwZXMuY191aW50MTYpLAogICAgICAgICgiZHdQYWdlU2l6ZSIsIGN0eXBlcy5jX3VpbnQzMiksCiAgICAgICAgKCJscE1pbmltdW1BcHBsaWNhdGlvbkFkZHJlc3MiLCBjdHlwZXMuY192b2lkX3ApLAogICAgICAgICgibHBNYXhpbXVtQXBwbGljYXRpb25BZGRyZXNzIiwgY3R5cGVzLmNfdm9pZF9wKSwKICAgICAgICAoImR3QWN0aXZlUHJvY2Vzc29yTWFzayIsIGN0eXBlcy5jX3VpbnQzMiksCiAgICAgICAgKCJkd051bWJlck9mUHJvY2Vzc29ycyIsIGN0eXBlcy5jX3VpbnQzMiksCiAgICAgICAgKCJkd1Byb2Nlc3NvclR5cGUiLCBjdHlwZXMuY191aW50MzIpLAogICAgICAgICgiZHdBbGxvY2F0aW9uR3JhbnVsYXJpdHkiLCBjdHlwZXMuY191aW50MzIpLAogICAgICAgICgid1Byb2Nlc3NvckxldmVsIiwgY3R5cGVzLmNfdWludDE2KSwKICAgICAgICAoIndQcm9jZXNzb3JSZXZpc2lvbiIsIGN0eXBlcy5jX3VpbnQxNildCgpkZWYgcmFuZF9ieXRlcyhuKToKICAgIHJldHVybiBvcy51cmFuZG9tKG4pCgpkZWYgcmFuZF94b3Jfa2V5KCk6CiAgICByZXR1cm4gdHVwbGUocmFuZG9tLnJhbmRpbnQoMSwgMjU1KSBmb3IgXyBpbiByYW5nZSg0KSkKCmRlZiB4b3JfYnl0ZXMoa2V5LCBkYXRhKToKICAgIGlmIHN5cy52ZXJzaW9uX2luZm9bMF0gPCAzOgogICAgICAgIGRleG9yZWQgPSAnJy5qb2luKGNocihvcmQoZGF0YVtpXSkgXiBrZXlbaSAlIGxlbihrZXkpXSkgZm9yIGkgaW4gcmFuZ2UobGVuKGRhdGEpKSkKICAgIGVsc2U6CiAgICAgICAgZGV4b3JlZCA9IGJ5dGVzKGRhdGFbaV0gXiBrZXlbaSAlIGxlbihrZXkpXSBmb3IgaSBpbiByYW5nZShsZW4oZGF0YSkpKQogICAgcmV0dXJuIGRleG9yZWQKCmRlZiBleHBvcnQoc3ltYm9sKToKICAgIEVYUE9SVEVEX1NZTUJPTFNbc3ltYm9sLl9fbmFtZV9fXSA9IHN5bWJvbAogICAgcmV0dXJuIHN5bWJvbAoKZGVmIGdlbmVyYXRlX3JlcXVlc3RfaWQoKToKICAgIGNoYXJzID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JwogICAgcmV0dXJuICcnLmpvaW4ocmFuZG9tLmNob2ljZShjaGFycykgZm9yIHggaW4gcmFuZ2UoMzIpKQoKQGV4cG9ydApkZWYgY21kX2lkX3RvX3N0cmluZyh0aGlzX2lkKToKICAgIGZvciB0aGF0X2lkLCB0aGF0X3N0cmluZyBpbiBDT01NQU5EX0lEUzoKICAgICAgICBpZiB0aGlzX2lkID09IHRoYXRfaWQ6CiAgICAgICAgICAgIHJldHVybiB0aGF0X3N0cmluZwogICAgZGVidWdfcHJpbnQoJ1sqXSBmYWlsZWQgdG8gbG9va3VwIHN0cmluZyBmb3IgY29tbWFuZCBpZDogJyArIHN0cih0aGlzX2lkKSkKICAgIHJldHVybiBOb25lCgpAZXhwb3J0CmRlZiBjbWRfc3RyaW5nX3RvX2lkKHRoaXNfc3RyaW5nKToKICAgIGZvciB0aGF0X2lkLCB0aGF0X3N0cmluZyBpbiBDT01NQU5EX0lEUzoKICAgICAgICBpZiB0aGlzX3N0cmluZyA9PSB0aGF0X3N0cmluZzoKICAgICAgICAgICAgcmV0dXJuIHRoYXRfaWQKICAgIGRlYnVnX3ByaW50KCdbKl0gZmFpbGVkIHRvIGxvb2t1cCBpZCBmb3IgY29tbWFuZCBzdHJpbmc6ICcgKyB0aGlzX3N0cmluZykKICAgIHJldHVybiBOb25lCgpAZXhwb3J0CmRlZiBjcmMxNihkYXRhKToKICAgIHBvbHkgPSAweDEwMjEKICAgIHJlZyA9IDB4MDAwMAogICAgaWYgaXNfc3RyKGRhdGEpOgogICAgICAgIGRhdGEgPSBsaXN0KG1hcChvcmQsIGRhdGEpKQogICAgZWxpZiBpc19ieXRlcyhkYXRhKToKICAgICAgICBkYXRhID0gbGlzdChkYXRhKQogICAgZGF0YS5hcHBlbmQoMCkKICAgIGRhdGEuYXBwZW5kKDApCiAgICBmb3IgYnl0ZSBpbiBkYXRhOgogICAgICAgIG1hc2sgPSAweDgwCiAgICAgICAgd2hpbGUgbWFzayA+IDA6CiAgICAgICAgICAgIHJlZyA8PD0gMQogICAgICAgICAgICBpZiBieXRlICYgbWFzazoKICAgICAgICAgICAgICAgIHJlZyArPSAxCiAgICAgICAgICAgIG1hc2sgPj49IDEKICAgICAgICAgICAgaWYgcmVnID4gMHhmZmZmOgogICAgICAgICAgICAgICAgcmVnICY9IDB4ZmZmZgogICAgICAgICAgICAgICAgcmVnIF49IHBvbHkKICAgIHJldHVybiByZWcKCkBleHBvcnQKZGVmIGRlYnVnX3ByaW50KG1zZyk6CiAgICBpZiBERUJVR0dJTkc6CiAgICAgICAgbG9nZ2luZy5kZWJ1Zyhtc2cpCgpAZXhwb3J0CmRlZiBkZWJ1Z190cmFjZWJhY2sobXNnPU5vbmUpOgogICAgaWYgREVCVUdHSU5HOgogICAgICAgIGlmIG1zZzoKICAgICAgICAgICAgZGVidWdfcHJpbnQobXNnKQogICAgICAgIGRlYnVnX3ByaW50KHRyYWNlYmFjay5mb3JtYXRfZXhjKCkpCgpAZXhwb3J0CmRlZiBlcnJvcl9yZXN1bHQoZXhjZXB0aW9uPU5vbmUpOgogICAgaWYgbm90IGV4Y2VwdGlvbjoKICAgICAgICBfLCBleGNlcHRpb24sIF8gPSBzeXMuZXhjX2luZm8oKQogICAgZXhjZXB0aW9uX2NyYyA9IGNyYzE2KGV4Y2VwdGlvbi5fX2NsYXNzX18uX19uYW1lX18pCiAgICBpZiBleGNlcHRpb25fY3JjID09IDB4NGNiMjogIyBXaW5kb3dzRXJyb3IKICAgICAgICByZXR1cm4gZXJyb3JfcmVzdWx0X3dpbmRvd3MoZXhjZXB0aW9uLmVycm5vKQogICAgZWxzZToKICAgICAgICByZXN1bHQgPSAoKGV4Y2VwdGlvbl9jcmMgPDwgMTYpIHwgRVJST1JfRkFJTFVSRV9QWVRIT04pCiAgICByZXR1cm4gcmVzdWx0CgpAZXhwb3J0CmRlZiBlcnJvcl9yZXN1bHRfd2luZG93cyhlcnJvcl9udW1iZXI9Tm9uZSk6CiAgICBpZiBub3QgaGFzX3dpbmRsbDoKICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRQogICAgaWYgZXJyb3JfbnVtYmVyID09IE5vbmU6CiAgICAgICAgZXJyb3JfbnVtYmVyID0gY3R5cGVzLndpbmRsbC5rZXJuZWwzMi5HZXRMYXN0RXJyb3IoKQogICAgaWYgZXJyb3JfbnVtYmVyID4gMHhmZmZmOgogICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFCiAgICByZXN1bHQgPSAoKGVycm9yX251bWJlciA8PCAxNikgfCBFUlJPUl9GQUlMVVJFX1dJTkRPV1MpCiAgICByZXR1cm4gcmVzdWx0CgpAZXhwb3J0CmRlZiBnZXRfaGRkX2xhYmVsKCk6CiAgICBmb3IgXywgXywgZmlsZXMgaW4gb3Mud2FsaygnL2Rldi9kaXNrL2J5LWlkLycpOgogICAgICAgIGZvciBmIGluIGZpbGVzOgogICAgICAgICAgICBmb3IgcCBpbiBbJ2F0YS0nLCAnbWItJ106CiAgICAgICAgICAgICAgICBpZiBmWzpsZW4ocCldID09IHA6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZbbGVuKHApOl0KICAgIHJldHVybiAnJwoKQGV4cG9ydApkZWYgZ2V0X25hdGl2ZV9hcmNoKCk6CiAgICBhcmNoID0gZ2V0X3N5c3RlbV9hcmNoKCkKICAgIGlmIGFyY2ggPT0gJ3g2NCcgYW5kIGN0eXBlcy5zaXplb2YoY3R5cGVzLmNfdm9pZF9wKSA9PSA0OgogICAgICAgIGFyY2ggPSAneDg2JwogICAgcmV0dXJuIGFyY2gKCkBleHBvcnQKZGVmIGdldF9zeXN0ZW1fYXJjaCgpOgogICAgdW5hbWVfaW5mbyA9IHBsYXRmb3JtLnVuYW1lKCkKICAgIGFyY2ggPSB1bmFtZV9pbmZvWzRdCiAgICBpZiBoYXNfd2luZGxsOgogICAgICAgIHN5c2luZm8gPSBTWVNURU1fSU5GTygpCiAgICAgICAgY3R5cGVzLndpbmRsbC5rZXJuZWwzMi5HZXROYXRpdmVTeXN0ZW1JbmZvKGN0eXBlcy5ieXJlZihzeXNpbmZvKSkKICAgICAgICB2YWx1ZXMgPSB7MDoneDg2JywgNTonYXJtbGUnLCA2OidJQTY0JywgOToneDY0J30KICAgICAgICBhcmNoID0gdmFsdWVzLmdldChzeXNpbmZvLndQcm9jZXNzb3JBcmNoaXRlY3R1cmUsIHVuYW1lX2luZm9bNF0pCiAgICBpZiBhcmNoID09ICd4ODZfNjQnIG9yIGFyY2gubG93ZXIoKSA9PSAnYW1kNjQnOgogICAgICAgIGFyY2ggPSAneDY0JwogICAgcmV0dXJuIGFyY2gKCkBleHBvcnQKZGVmIGluZXRfcHRvbihmYW1pbHksIGFkZHJlc3MpOgogICAgaWYgZmFtaWx5ID09IHNvY2tldC5BRl9JTkVUNiBhbmQgJyUnIGluIGFkZHJlc3M6CiAgICAgICAgYWRkcmVzcyA9IGFkZHJlc3Muc3BsaXQoJyUnLCAxKVswXQogICAgaWYgaGFzYXR0cihzb2NrZXQsICdpbmV0X3B0b24nKToKICAgICAgICByZXR1cm4gc29ja2V0LmluZXRfcHRvbihmYW1pbHksIGFkZHJlc3MpCiAgICBlbGlmIGhhc193aW5kbGw6CiAgICAgICAgV1NBU3RyaW5nVG9BZGRyZXNzID0gY3R5cGVzLndpbmRsbC53czJfMzIuV1NBU3RyaW5nVG9BZGRyZXNzQQogICAgICAgIGxwQWRkcmVzcyA9IChjdHlwZXMuY191Ynl0ZSAqIDI4KSgpCiAgICAgICAgbHBBZGRyZXNzTGVuZ3RoID0gY3R5cGVzLmNfaW50KGN0eXBlcy5zaXplb2YobHBBZGRyZXNzKSkKICAgICAgICBpZiBXU0FTdHJpbmdUb0FkZHJlc3MoYWRkcmVzcywgZmFtaWx5LCBOb25lLCBjdHlwZXMuYnlyZWYobHBBZGRyZXNzKSwgY3R5cGVzLmJ5cmVmKGxwQWRkcmVzc0xlbmd0aCkpICE9IDA6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbignV1NBU3RyaW5nVG9BZGRyZXNzIGZhaWxlZCcpCiAgICAgICAgaWYgZmFtaWx5ID09IHNvY2tldC5BRl9JTkVUOgogICAgICAgICAgICByZXR1cm4gJycuam9pbihtYXAoY2hyLCBscEFkZHJlc3NbNDo4XSkpCiAgICAgICAgZWxpZiBmYW1pbHkgPT0gc29ja2V0LkFGX0lORVQ2OgogICAgICAgICAgICByZXR1cm4gJycuam9pbihtYXAoY2hyLCBscEFkZHJlc3NbODoyNF0pKQogICAgcmFpc2UgRXhjZXB0aW9uKCdubyBzdWl0YWJsZSBpbmV0X3B0b24gZnVuY3Rpb25hbGl0eSBpcyBhdmFpbGFibGUnKQoKQGV4cG9ydApkZWYgcGFja2V0X2VudW1fdGx2cyhwa3QsIHRsdl90eXBlPU5vbmUpOgogICAgb2Zmc2V0ID0gMAogICAgd2hpbGUgb2Zmc2V0IDwgbGVuKHBrdCk6CiAgICAgICAgdGx2ID0gc3RydWN0LnVucGFjaygnPklJJywgcGt0W29mZnNldDpvZmZzZXQgKyA4XSkKICAgICAgICBpZiB0bHZfdHlwZSBpcyBOb25lIG9yICh0bHZbMV0gJiB+VExWX01FVEFfVFlQRV9DT01QUkVTU0VEKSA9PSB0bHZfdHlwZToKICAgICAgICAgICAgdmFsID0gcGt0W29mZnNldCArIDg6KG9mZnNldCArIDggKyAodGx2WzBdIC0gOCkpXQogICAgICAgICAgICBpZiAodGx2WzFdICYgVExWX01FVEFfVFlQRV9TVFJJTkcpID09IFRMVl9NRVRBX1RZUEVfU1RSSU5HOgogICAgICAgICAgICAgICAgdmFsID0gc3RyKHZhbC5zcGxpdChOVUxMX0JZVEUsIDEpWzBdKQogICAgICAgICAgICBlbGlmICh0bHZbMV0gJiBUTFZfTUVUQV9UWVBFX1VJTlQpID09IFRMVl9NRVRBX1RZUEVfVUlOVDoKICAgICAgICAgICAgICAgIHZhbCA9IHN0cnVjdC51bnBhY2soJz5JJywgdmFsKVswXQogICAgICAgICAgICBlbGlmICh0bHZbMV0gJiBUTFZfTUVUQV9UWVBFX1FXT1JEKSA9PSBUTFZfTUVUQV9UWVBFX1FXT1JEOgogICAgICAgICAgICAgICAgdmFsID0gc3RydWN0LnVucGFjaygnPlEnLCB2YWwpWzBdCiAgICAgICAgICAgIGVsaWYgKHRsdlsxXSAmIFRMVl9NRVRBX1RZUEVfQk9PTCkgPT0gVExWX01FVEFfVFlQRV9CT09MOgogICAgICAgICAgICAgICAgdmFsID0gYm9vbChzdHJ1Y3QudW5wYWNrKCdiJywgdmFsKVswXSkKICAgICAgICAgICAgZWxpZiAodGx2WzFdICYgVExWX01FVEFfVFlQRV9SQVcpID09IFRMVl9NRVRBX1RZUEVfUkFXOgogICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICB5aWVsZCB7J3R5cGUnOiB0bHZbMV0sICdsZW5ndGgnOiB0bHZbMF0sICd2YWx1ZSc6IHZhbH0KICAgICAgICBvZmZzZXQgKz0gdGx2WzBdCiAgICByZXR1cm4KCkBleHBvcnQKZGVmIHBhY2tldF9nZXRfdGx2KHBrdCwgdGx2X3R5cGUpOgogICAgdHJ5OgogICAgICAgIHRsdiA9IGxpc3QocGFja2V0X2VudW1fdGx2cyhwa3QsIHRsdl90eXBlKSlbMF0KICAgIGV4Y2VwdCBJbmRleEVycm9yOgogICAgICAgIHJldHVybiB7fQogICAgcmV0dXJuIHRsdgoKQGV4cG9ydApkZWYgdGx2X3BhY2soKmFyZ3MpOgogICAgaWYgbGVuKGFyZ3MpID09IDI6CiAgICAgICAgdGx2ID0geyd0eXBlJzphcmdzWzBdLCAndmFsdWUnOmFyZ3NbMV19CiAgICBlbHNlOgogICAgICAgIHRsdiA9IGFyZ3NbMF0KICAgIGRhdGEgPSAnJwogICAgdmFsdWUgPSB0bHZbJ3ZhbHVlJ10KICAgIGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfVUlOVCkgPT0gVExWX01FVEFfVFlQRV9VSU5UOgogICAgICAgIGlmIGlzaW5zdGFuY2UodmFsdWUsIGZsb2F0KToKICAgICAgICAgICAgdmFsdWUgPSBpbnQocm91bmQodmFsdWUpKQogICAgICAgIGRhdGEgPSBzdHJ1Y3QucGFjaygnPklJSScsIDEyLCB0bHZbJ3R5cGUnXSwgdmFsdWUpCiAgICBlbGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfUVdPUkQpID09IFRMVl9NRVRBX1RZUEVfUVdPUkQ6CiAgICAgICAgZGF0YSA9IHN0cnVjdC5wYWNrKCc+SUlRJywgMTYsIHRsdlsndHlwZSddLCB2YWx1ZSkKICAgIGVsaWYgKHRsdlsndHlwZSddICYgVExWX01FVEFfVFlQRV9CT09MKSA9PSBUTFZfTUVUQV9UWVBFX0JPT0w6CiAgICAgICAgZGF0YSA9IHN0cnVjdC5wYWNrKCc+SUknLCA5LCB0bHZbJ3R5cGUnXSkgKyBieXRlcyhjaHIoaW50KGJvb2wodmFsdWUpKSksICdVVEYtOCcpCiAgICBlbHNlOgogICAgICAgIGlmIHN5cy52ZXJzaW9uX2luZm9bMF0gPCAzIGFuZCB2YWx1ZS5fX2NsYXNzX18uX19uYW1lX18gPT0gJ3VuaWNvZGUnOgogICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmVuY29kZSgnVVRGLTgnKQogICAgICAgIGVsaWYgbm90IGlzX2J5dGVzKHZhbHVlKToKICAgICAgICAgICAgdmFsdWUgPSBieXRlcyh2YWx1ZSwgJ1VURi04JykKICAgICAgICBpZiAodGx2Wyd0eXBlJ10gJiBUTFZfTUVUQV9UWVBFX1NUUklORykgPT0gVExWX01FVEFfVFlQRV9TVFJJTkc6CiAgICAgICAgICAgIGRhdGEgPSBzdHJ1Y3QucGFjaygnPklJJywgOCArIGxlbih2YWx1ZSkgKyAxLCB0bHZbJ3R5cGUnXSkgKyB2YWx1ZSArIE5VTExfQllURQogICAgICAgIGVsaWYgKHRsdlsndHlwZSddICYgVExWX01FVEFfVFlQRV9SQVcpID09IFRMVl9NRVRBX1RZUEVfUkFXOgogICAgICAgICAgICBkYXRhID0gc3RydWN0LnBhY2soJz5JSScsIDggKyBsZW4odmFsdWUpLCB0bHZbJ3R5cGUnXSkgKyB2YWx1ZQogICAgICAgIGVsaWYgKHRsdlsndHlwZSddICYgVExWX01FVEFfVFlQRV9HUk9VUCkgPT0gVExWX01FVEFfVFlQRV9HUk9VUDoKICAgICAgICAgICAgZGF0YSA9IHN0cnVjdC5wYWNrKCc+SUknLCA4ICsgbGVuKHZhbHVlKSwgdGx2Wyd0eXBlJ10pICsgdmFsdWUKICAgICAgICBlbGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfQ09NUExFWCkgPT0gVExWX01FVEFfVFlQRV9DT01QTEVYOgogICAgICAgICAgICBkYXRhID0gc3RydWN0LnBhY2soJz5JSScsIDggKyBsZW4odmFsdWUpLCB0bHZbJ3R5cGUnXSkgKyB2YWx1ZQogICAgcmV0dXJuIGRhdGEKCkBleHBvcnQKZGVmIHRsdl9wYWNrX3JlcXVlc3QobWV0aG9kLCBwYXJ0cz1Ob25lKToKICAgIHBrdCAgPSBzdHJ1Y3QucGFjaygnPkknLCBQQUNLRVRfVFlQRV9SRVFVRVNUKQogICAgcGt0ICs9IHRsdl9wYWNrKFRMVl9UWVBFX0NPTU1BTkRfSUQsIGNtZF9zdHJpbmdfdG9faWQobWV0aG9kKSkKICAgIHBrdCArPSB0bHZfcGFjayhUTFZfVFlQRV9VVUlELCBiaW5hc2NpaS5hMmJfaGV4KGJ5dGVzKFBBWUxPQURfVVVJRCwgJ1VURi04JykpKQogICAgcGt0ICs9IHRsdl9wYWNrKFRMVl9UWVBFX1JFUVVFU1RfSUQsIGdlbmVyYXRlX3JlcXVlc3RfaWQoKSkKICAgIHBhcnRzID0gcGFydHMgb3IgW10KICAgIGZvciBwYXJ0IGluIHBhcnRzOgogICAgICAgIHBrdCArPSB0bHZfcGFjayhwYXJ0Wyd0eXBlJ10sIHBhcnRbJ3ZhbHVlJ10pCiAgICByZXR1cm4gcGt0CgojQGV4cG9ydApjbGFzcyBNZXRlcnByZXRlckNoYW5uZWwob2JqZWN0KToKICAgIGRlZiBjb3JlX2Nsb3NlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBzZWxmLmNsb3NlKCkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgY29yZV9lb2Yoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX0JPT0wsIHNlbGYuZW9mKCkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIGNvcmVfcmVhZChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgbGVuZ3RoID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfTEVOR1RIKVsndmFsdWUnXQogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX0NIQU5ORUxfREFUQSwgc2VsZi5yZWFkKGxlbmd0aCkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIGNvcmVfd3JpdGUoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGNoYW5uZWxfZGF0YSA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfREFUQSlbJ3ZhbHVlJ10KICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9MRU5HVEgsIHNlbGYud3JpdGUoY2hhbm5lbF9kYXRhKSkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgY29yZV9zZWVrKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBvZmZzZXQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9TRUVLX09GRlNFVClbJ3ZhbHVlJ10KICAgICAgICB3aGVuY2UgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9TRUVLX1dIRU5DRSlbJ3ZhbHVlJ10KICAgICAgICBzZWxmLnNlZWsob2Zmc2V0LCB3aGVuY2UpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIGNvcmVfdGVsbChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfU0VFS19QT1MsIHNlbGYudGVsbCgpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBjbG9zZShzZWxmKToKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCkKCiAgICBkZWYgZW9mKHNlbGYpOgogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBpc19hbGl2ZShzZWxmKToKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBub3RpZnkoc2VsZik6CiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgcmVhZChzZWxmLCBsZW5ndGgpOgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoKQoKICAgIGRlZiB3cml0ZShzZWxmLCBkYXRhKToKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCkKCiAgICBkZWYgc2VlayhzZWxmLCBvZmZzZXQsIHdoZW5jZT1vcy5TRUVLX1NFVCk6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigpCgogICAgZGVmIHRlbGwoc2VsZik6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigpCgojQGV4cG9ydApjbGFzcyBNZXRlcnByZXRlckZpbGUoTWV0ZXJwcmV0ZXJDaGFubmVsKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBmaWxlX29iaik6CiAgICAgICAgc2VsZi5maWxlX29iaiA9IGZpbGVfb2JqCiAgICAgICAgc3VwZXIoTWV0ZXJwcmV0ZXJGaWxlLCBzZWxmKS5fX2luaXRfXygpCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHNlbGYuZmlsZV9vYmouY2xvc2UoKQoKICAgIGRlZiBlb2Yoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuZmlsZV9vYmoudGVsbCgpID49IG9zLmZzdGF0KHNlbGYuZmlsZV9vYmouZmlsZW5vKCkpLnN0X3NpemUKCiAgICBkZWYgcmVhZChzZWxmLCBsZW5ndGgpOgogICAgICAgIHJldHVybiBzZWxmLmZpbGVfb2JqLnJlYWQobGVuZ3RoKQoKICAgIGRlZiB3cml0ZShzZWxmLCBkYXRhKToKICAgICAgICBzZWxmLmZpbGVfb2JqLndyaXRlKGRhdGEpCiAgICAgICAgcmV0dXJuIGxlbihkYXRhKQoKICAgIGRlZiBzZWVrKHNlbGYsIG9mZnNldCwgd2hlbmNlPW9zLlNFRUtfU0VUKToKICAgICAgICBzZWxmLmZpbGVfb2JqLnNlZWsob2Zmc2V0LCB3aGVuY2UpCgogICAgZGVmIHRlbGwoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuZmlsZV9vYmoudGVsbCgpCmV4cG9ydChNZXRlcnByZXRlckZpbGUpCgojQGV4cG9ydApjbGFzcyBNZXRlcnByZXRlclByb2Nlc3MoTWV0ZXJwcmV0ZXJDaGFubmVsKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwcm9jX2gpOgogICAgICAgIHNlbGYucHJvY19oID0gcHJvY19oCiAgICAgICAgc3VwZXIoTWV0ZXJwcmV0ZXJQcm9jZXNzLCBzZWxmKS5fX2luaXRfXygpCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIGlmIHNlbGYucHJvY19oLnBvbGwoKSBpcyBOb25lOgogICAgICAgICAgICBzZWxmLnByb2NfaC5raWxsKCkKICAgICAgICBpZiBzZWxmLnByb2NfaC5wdHlmZCBpcyBub3QgTm9uZToKICAgICAgICAgICAgb3MuY2xvc2Uoc2VsZi5wcm9jX2gucHR5ZmQpCiAgICAgICAgICAgIHNlbGYucHJvY19oLnB0eWZkID0gTm9uZQogICAgICAgIGZvciBzdHJlYW0gaW4gKHNlbGYucHJvY19oLnN0ZGluLCBzZWxmLnByb2NfaC5zdGRvdXQsIHNlbGYucHJvY19oLnN0ZGVycik6CiAgICAgICAgICAgIGlmIG5vdCBoYXNhdHRyKHN0cmVhbSwgJ2Nsb3NlJyk6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzdHJlYW0uY2xvc2UoKQogICAgICAgICAgICBleGNlcHQgKElPRXJyb3IsIE9TRXJyb3IpOgogICAgICAgICAgICAgICAgcGFzcwoKICAgIGRlZiBpc19hbGl2ZShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5wcm9jX2guaXNfYWxpdmUoKQoKICAgIGRlZiByZWFkKHNlbGYsIGxlbmd0aCk6CiAgICAgICAgZGF0YSA9IGJ5dGVzKCkKICAgICAgICBzdGRlcnJfcmVhZGVyID0gc2VsZi5wcm9jX2guc3RkZXJyX3JlYWRlcgogICAgICAgIHN0ZG91dF9yZWFkZXIgPSBzZWxmLnByb2NfaC5zdGRvdXRfcmVhZGVyCiAgICAgICAgaWYgc3RkZXJyX3JlYWRlci5pc19yZWFkX3JlYWR5KCkgYW5kIGxlbmd0aCA+IDA6CiAgICAgICAgICAgIGRhdGEgKz0gc3RkZXJyX3JlYWRlci5yZWFkKGxlbmd0aCkKICAgICAgICBpZiBzdGRvdXRfcmVhZGVyLmlzX3JlYWRfcmVhZHkoKSBhbmQgKGxlbmd0aCAtIGxlbihkYXRhKSkgPiAwOgogICAgICAgICAgICBkYXRhICs9IHN0ZG91dF9yZWFkZXIucmVhZChsZW5ndGggLSBsZW4oZGF0YSkpCiAgICAgICAgcmV0dXJuIGRhdGEKCiAgICBkZWYgd3JpdGUoc2VsZiwgZGF0YSk6CiAgICAgICAgc2VsZi5wcm9jX2gud3JpdGUoZGF0YSkKICAgICAgICByZXR1cm4gbGVuKGRhdGEpCmV4cG9ydChNZXRlcnByZXRlclByb2Nlc3MpCgojQGV4cG9ydApjbGFzcyBNZXRlcnByZXRlclNvY2tldChNZXRlcnByZXRlckNoYW5uZWwpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHNvY2spOgogICAgICAgIHNlbGYuc29jayA9IHNvY2sKICAgICAgICBzZWxmLl9pc19hbGl2ZSA9IFRydWUKICAgICAgICBzdXBlcihNZXRlcnByZXRlclNvY2tldCwgc2VsZikuX19pbml0X18oKQoKICAgIGRlZiBjb3JlX3dyaXRlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHN0YXR1cywgcmVzcG9uc2UgPSBzdXBlcihNZXRlcnByZXRlclNvY2tldCwgc2VsZikuY29yZV93cml0ZShyZXF1ZXN0LCByZXNwb25zZSkKICAgICAgICBleGNlcHQgc29ja2V0LmVycm9yOgogICAgICAgICAgICBzZWxmLmNsb3NlKCkKICAgICAgICAgICAgc2VsZi5faXNfYWxpdmUgPSBGYWxzZQogICAgICAgICAgICBzdGF0dXMgPSBFUlJPUl9GQUlMVVJFCiAgICAgICAgcmV0dXJuIHN0YXR1cywgcmVzcG9uc2UKCiAgICBkZWYgY2xvc2Uoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuc29jay5jbG9zZSgpCgogICAgZGVmIGZpbGVubyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5zb2NrLmZpbGVubygpCgogICAgZGVmIGlzX2FsaXZlKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLl9pc19hbGl2ZQoKICAgIGRlZiByZWFkKHNlbGYsIGxlbmd0aCk6CiAgICAgICAgcmV0dXJuIHNlbGYuc29jay5yZWN2KGxlbmd0aCkKCiAgICBkZWYgd3JpdGUoc2VsZiwgZGF0YSk6CiAgICAgICAgcmV0dXJuIHNlbGYuc29jay5zZW5kKGRhdGEpCmV4cG9ydChNZXRlcnByZXRlclNvY2tldCkKCiNAZXhwb3J0CmNsYXNzIE1ldGVycHJldGVyU29ja2V0VENQQ2xpZW50KE1ldGVycHJldGVyU29ja2V0KToKICAgIHBhc3MKZXhwb3J0KE1ldGVycHJldGVyU29ja2V0VENQQ2xpZW50KQoKI0BleHBvcnQKY2xhc3MgTWV0ZXJwcmV0ZXJTb2NrZXRUQ1BTZXJ2ZXIoTWV0ZXJwcmV0ZXJTb2NrZXQpOgogICAgcGFzcwpleHBvcnQoTWV0ZXJwcmV0ZXJTb2NrZXRUQ1BTZXJ2ZXIpCgojQGV4cG9ydApjbGFzcyBNZXRlcnByZXRlclNvY2tldFVEUENsaWVudChNZXRlcnByZXRlclNvY2tldCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgc29jaywgcGVlcl9hZGRyZXNzPU5vbmUpOgogICAgICAgIHN1cGVyKE1ldGVycHJldGVyU29ja2V0VURQQ2xpZW50LCBzZWxmKS5fX2luaXRfXyhzb2NrKQogICAgICAgIHNlbGYucGVlcl9hZGRyZXNzID0gcGVlcl9hZGRyZXNzCgogICAgZGVmIGNvcmVfd3JpdGUoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHBlZXJfaG9zdCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1BFRVJfSE9TVCkuZ2V0KCd2YWx1ZScpCiAgICAgICAgcGVlcl9wb3J0ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfUEVFUl9QT1JUKS5nZXQoJ3ZhbHVlJykKICAgICAgICBpZiBwZWVyX2hvc3QgYW5kIHBlZXJfcG9ydDoKICAgICAgICAgICAgcGVlcl9hZGRyZXNzID0gKHBlZXJfaG9zdCwgcGVlcl9wb3J0KQogICAgICAgIGVsaWYgc2VsZi5wZWVyX2FkZHJlc3M6CiAgICAgICAgICAgIHBlZXJfYWRkcmVzcyA9IHNlbGYucGVlcl9hZGRyZXNzCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCdwZWVyX2hvc3QgYW5kIHBlZXJfcG9ydCBtdXN0IGJlIHNwZWNpZmllZCB3aXRoIGFuIHVuYm91bmQvdW5jb25uZWN0ZWQgVURQIGNoYW5uZWwnKQogICAgICAgIGNoYW5uZWxfZGF0YSA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfREFUQSlbJ3ZhbHVlJ10KICAgICAgICB0cnk6CiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYuc29jay5zZW5kdG8oY2hhbm5lbF9kYXRhLCBwZWVyX2FkZHJlc3MpCiAgICAgICAgZXhjZXB0IHNvY2tldC5lcnJvcjoKICAgICAgICAgICAgc2VsZi5jbG9zZSgpCiAgICAgICAgICAgIHNlbGYuX2lzX2FsaXZlID0gRmFsc2UKICAgICAgICAgICAgc3RhdHVzID0gRVJST1JfRkFJTFVSRQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX0xFTkdUSCwgbGVuZ3RoKQogICAgICAgICAgICBzdGF0dXMgPSBFUlJPUl9TVUNDRVNTCiAgICAgICAgcmV0dXJuIHN0YXR1cywgcmVzcG9uc2UKCiAgICBkZWYgcmVhZChzZWxmLCBsZW5ndGgpOgogICAgICAgIHJldHVybiBzZWxmLnNvY2sucmVjdmZyb20obGVuZ3RoKVswXQoKICAgIGRlZiB3cml0ZShzZWxmLCBkYXRhKToKICAgICAgICBzZWxmLnNvY2suc2VuZHRvKGRhdGEsIHNlbGYucGVlcl9hZGRyZXNzKQpleHBvcnQoTWV0ZXJwcmV0ZXJTb2NrZXRVRFBDbGllbnQpCgpjbGFzcyBTVERQcm9jZXNzQnVmZmVyKHRocmVhZGluZy5UaHJlYWQpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHN0ZCwgaXNfYWxpdmUsIG5hbWU9Tm9uZSk6CiAgICAgICAgdGhyZWFkaW5nLlRocmVhZC5fX2luaXRfXyhzZWxmLCBuYW1lPW5hbWUgb3Igc2VsZi5fX2NsYXNzX18uX19uYW1lX18pCiAgICAgICAgc2VsZi5zdGQgPSBzdGQKICAgICAgICBzZWxmLmlzX2FsaXZlID0gaXNfYWxpdmUKICAgICAgICBzZWxmLmRhdGEgPSBieXRlcygpCiAgICAgICAgc2VsZi5kYXRhX2xvY2sgPSB0aHJlYWRpbmcuUkxvY2soKQogICAgICAgIHNlbGYuX2lzX3JlYWRpbmcgPSBUcnVlCgogICAgZGVmIF9yZWFkMShzZWxmKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLnN0ZC5yZWFkKDEpCiAgICAgICAgZXhjZXB0IChJT0Vycm9yLCBPU0Vycm9yKToKICAgICAgICAgICAgcmV0dXJuIGJ5dGVzKCkKCiAgICBkZWYgcnVuKHNlbGYpOgogICAgICAgIHRyeToKICAgICAgICAgICAgYnl0ZSA9IHNlbGYuX3JlYWQxKCkKICAgICAgICAgICAgd2hpbGUgbGVuKGJ5dGUpID4gMDoKICAgICAgICAgICAgICAgIHNlbGYuZGF0YV9sb2NrLmFjcXVpcmUoKQogICAgICAgICAgICAgICAgc2VsZi5kYXRhICs9IGJ5dGUKICAgICAgICAgICAgICAgIHNlbGYuZGF0YV9sb2NrLnJlbGVhc2UoKQogICAgICAgICAgICAgICAgYnl0ZSA9IHNlbGYuX3JlYWQxKCkKICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICBzZWxmLl9pc19yZWFkaW5nID0gRmFsc2UKCiAgICBkZWYgaXNfcmVhZGluZyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5faXNfcmVhZGluZyBvciBzZWxmLmlzX3JlYWRfcmVhZHkoKQoKICAgIGRlZiBpc19yZWFkX3JlYWR5KHNlbGYpOgogICAgICAgIHJldHVybiBsZW4oc2VsZi5kYXRhKSAhPSAwCgogICAgZGVmIHBlZWsoc2VsZiwgbCA9IE5vbmUpOgogICAgICAgIGRhdGEgPSBieXRlcygpCiAgICAgICAgc2VsZi5kYXRhX2xvY2suYWNxdWlyZSgpCiAgICAgICAgaWYgbCA9PSBOb25lOgogICAgICAgICAgICBkYXRhID0gc2VsZi5kYXRhCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZGF0YSA9IHNlbGYuZGF0YVswOmxdCiAgICAgICAgc2VsZi5kYXRhX2xvY2sucmVsZWFzZSgpCiAgICAgICAgcmV0dXJuIGRhdGEKCiAgICBkZWYgcmVhZChzZWxmLCBsID0gTm9uZSk6CiAgICAgICAgc2VsZi5kYXRhX2xvY2suYWNxdWlyZSgpCiAgICAgICAgZGF0YSA9IHNlbGYucGVlayhsKQogICAgICAgIHNlbGYuZGF0YSA9IHNlbGYuZGF0YVtsZW4oZGF0YSk6XQogICAgICAgIHNlbGYuZGF0YV9sb2NrLnJlbGVhc2UoKQogICAgICAgIHJldHVybiBkYXRhCgojQGV4cG9ydApjbGFzcyBTVERQcm9jZXNzKHN1YnByb2Nlc3MuUG9wZW4pOgogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBzdGFydGluZyBwcm9jZXNzOiAnICsgcmVwcihhcmdzWzBdKSkKICAgICAgICBzdWJwcm9jZXNzLlBvcGVuLl9faW5pdF9fKHNlbGYsICphcmdzLCAqKmt3YXJncykKICAgICAgICBzZWxmLmVjaG9fcHJvdGVjdGlvbiA9IEZhbHNlCiAgICAgICAgc2VsZi5wdHlmZCA9IE5vbmUKCiAgICBkZWYgaXNfYWxpdmUoc2VsZik6CiAgICAgICAgaXNfcHJvY19hbGl2ZSA9IHNlbGYucG9sbCgpIGlzIE5vbmUKICAgICAgICBpc19zdGRlcnJfcmVhZGluZyA9IHNlbGYuc3RkZXJyX3JlYWRlci5pc19yZWFkaW5nKCkKICAgICAgICBpc19zdGRvdXRfcmVhZGluZyA9IHNlbGYuc3Rkb3V0X3JlYWRlci5pc19yZWFkaW5nKCkKCiAgICAgICAgcmV0dXJuIGlzX3Byb2NfYWxpdmUgb3IgaXNfc3RkZXJyX3JlYWRpbmcgb3IgaXNfc3Rkb3V0X3JlYWRpbmcKCiAgICBkZWYgc3RhcnQoc2VsZik6CiAgICAgICAgc2VsZi5zdGRvdXRfcmVhZGVyID0gU1REUHJvY2Vzc0J1ZmZlcihzZWxmLnN0ZG91dCwgc2VsZi5pc19hbGl2ZSwgbmFtZT0nU1REUHJvY2Vzc0J1ZmZlci5zdGRvdXQnKQogICAgICAgIHNlbGYuc3Rkb3V0X3JlYWRlci5zdGFydCgpCiAgICAgICAgc2VsZi5zdGRlcnJfcmVhZGVyID0gU1REUHJvY2Vzc0J1ZmZlcihzZWxmLnN0ZGVyciwgc2VsZi5pc19hbGl2ZSwgbmFtZT0nU1REUHJvY2Vzc0J1ZmZlci5zdGRlcnInKQogICAgICAgIHNlbGYuc3RkZXJyX3JlYWRlci5zdGFydCgpCgogICAgZGVmIHdyaXRlKHNlbGYsIGNoYW5uZWxfZGF0YSk6CiAgICAgICAgbGVuZ3RoID0gc2VsZi5zdGRpbi53cml0ZShjaGFubmVsX2RhdGEpCiAgICAgICAgc2VsZi5zdGRpbi5mbHVzaCgpCiAgICAgICAgaWYgc2VsZi5lY2hvX3Byb3RlY3Rpb246CiAgICAgICAgICAgIGVuZF90aW1lID0gdGltZS50aW1lKCkgKyAwLjUKICAgICAgICAgICAgb3V0X2RhdGEgPSBieXRlcygpCiAgICAgICAgICAgIHdoaWxlICh0aW1lLnRpbWUoKSA8IGVuZF90aW1lKSBhbmQgKG91dF9kYXRhICE9IGNoYW5uZWxfZGF0YSk6CiAgICAgICAgICAgICAgICBpZiBzZWxmLnN0ZG91dF9yZWFkZXIuaXNfcmVhZF9yZWFkeSgpOgogICAgICAgICAgICAgICAgICAgIG91dF9kYXRhID0gc2VsZi5zdGRvdXRfcmVhZGVyLnBlZWsobGVuKGNoYW5uZWxfZGF0YSkpCiAgICAgICAgICAgIGlmIG91dF9kYXRhID09IGNoYW5uZWxfZGF0YToKICAgICAgICAgICAgICAgIHNlbGYuc3Rkb3V0X3JlYWRlci5yZWFkKGxlbihjaGFubmVsX2RhdGEpKQogICAgICAgIHJldHVybiBsZW5ndGgKZXhwb3J0KFNURFByb2Nlc3MpCgpjbGFzcyBUcmFuc3BvcnQob2JqZWN0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmNvbW11bmljYXRpb25fdGltZW91dCA9IFNFU1NJT05fQ09NTVVOSUNBVElPTl9USU1FT1VUCiAgICAgICAgc2VsZi5jb21tdW5pY2F0aW9uX2xhc3QgPSAwCiAgICAgICAgc2VsZi5yZXRyeV90b3RhbCA9IFNFU1NJT05fUkVUUllfVE9UQUwKICAgICAgICBzZWxmLnJldHJ5X3dhaXQgPSBTRVNTSU9OX1JFVFJZX1dBSVQKICAgICAgICBzZWxmLnJlcXVlc3RfcmV0aXJlID0gRmFsc2UKICAgICAgICBzZWxmLmFlc19lbmFibGVkID0gRmFsc2UKICAgICAgICBzZWxmLmFlc19rZXkgPSBOb25lCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgIHJldHVybiAiPHswfSB1cmw9J3sxfScgPiIuZm9ybWF0KHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLCBzZWxmLnVybCkKCiAgICBAcHJvcGVydHkKICAgIGRlZiBjb21tdW5pY2F0aW9uX2hhc19leHBpcmVkKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLmNvbW11bmljYXRpb25fbGFzdCArIHNlbGYuY29tbXVuaWNhdGlvbl90aW1lb3V0IDwgdGltZS50aW1lKCkKCiAgICBAcHJvcGVydHkKICAgIGRlZiBzaG91bGRfcmV0aXJlKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLmNvbW11bmljYXRpb25faGFzX2V4cGlyZWQgb3Igc2VsZi5yZXF1ZXN0X3JldGlyZQoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBmcm9tX3JlcXVlc3QocmVxdWVzdCk6CiAgICAgICAgdXJsID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfVVJMKVsndmFsdWUnXQogICAgICAgIGlmIHVybC5zdGFydHN3aXRoKCd0Y3AnKToKICAgICAgICAgICAgdHJhbnNwb3J0ID0gVGNwVHJhbnNwb3J0KHVybCkKICAgICAgICBlbGlmIHVybC5zdGFydHN3aXRoKCdodHRwJyk6CiAgICAgICAgICAgIHByb3h5ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfUFJPWFlfSE9TVCkuZ2V0KCd2YWx1ZScpCiAgICAgICAgICAgIHVzZXJfYWdlbnQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19VQSkuZ2V0KCd2YWx1ZScsIEhUVFBfVVNFUl9BR0VOVCkKICAgICAgICAgICAgaHR0cF9oZWFkZXJzID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfSEVBREVSUykuZ2V0KCd2YWx1ZScsIE5vbmUpCiAgICAgICAgICAgIHRyYW5zcG9ydCA9IEh0dHBUcmFuc3BvcnQodXJsLCBwcm94eT1wcm94eSwgdXNlcl9hZ2VudD11c2VyX2FnZW50KQogICAgICAgICAgICBpZiBodHRwX2hlYWRlcnM6CiAgICAgICAgICAgICAgICBoZWFkZXJzID0ge30KICAgICAgICAgICAgICAgIGZvciBoIGluIGh0dHBfaGVhZGVycy5zdHJpcCgpLnNwbGl0KCJcclxuIik6CiAgICAgICAgICAgICAgICAgICAgcCA9IGguc3BsaXQoJzonKQogICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbcFswXS51cHBlcigpXSA9ICcnLmpvaW4ocFsxOjBdKQogICAgICAgICAgICAgICAgaHR0cF9ob3N0ID0gaGVhZGVycy5nZXQoJ0hPU1QnKQogICAgICAgICAgICAgICAgaHR0cF9jb29raWUgPSBoZWFkZXJzLmdldCgnQ09PS0lFJykKICAgICAgICAgICAgICAgIGh0dHBfcmVmZXJlciA9IGhlYWRlcnMuZ2V0KCdSRUZFUkVSJykKICAgICAgICAgICAgICAgIHRyYW5zcG9ydCA9IEh0dHBUcmFuc3BvcnQodXJsLCBwcm94eT1wcm94eSwgdXNlcl9hZ2VudD11c2VyX2FnZW50LCBodHRwX2hvc3Q9aHR0cF9ob3N0LAogICAgICAgICAgICAgICAgICAgICAgICBodHRwX2Nvb2tpZT1odHRwX2Nvb2tpZSwgaHR0cF9yZWZlcmVyPWh0dHBfcmVmZXJlcikKICAgICAgICB0cmFuc3BvcnQuY29tbXVuaWNhdGlvbl90aW1lb3V0ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfQ09NTV9USU1FT1VUKS5nZXQoJ3ZhbHVlJywgU0VTU0lPTl9DT01NVU5JQ0FUSU9OX1RJTUVPVVQpCiAgICAgICAgdHJhbnNwb3J0LnJldHJ5X3RvdGFsID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfUkVUUllfVE9UQUwpLmdldCgndmFsdWUnLCBTRVNTSU9OX1JFVFJZX1RPVEFMKQogICAgICAgIHRyYW5zcG9ydC5yZXRyeV93YWl0ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfUkVUUllfV0FJVCkuZ2V0KCd2YWx1ZScsIFNFU1NJT05fUkVUUllfV0FJVCkKICAgICAgICByZXR1cm4gdHJhbnNwb3J0CgogICAgZGVmIF9hY3RpdmF0ZShzZWxmKToKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBhY3RpdmF0ZShzZWxmKToKICAgICAgICBzZWxmLmFlc19rZXkgPSBOb25lCiAgICAgICAgc2VsZi5hZXNfZW5hYmxlZCA9IEZhbHNlCiAgICAgICAgZW5kX3RpbWUgPSB0aW1lLnRpbWUoKSArIHNlbGYucmV0cnlfdG90YWwKICAgICAgICB3aGlsZSB0aW1lLnRpbWUoKSA8IGVuZF90aW1lOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBhY3RpdmF0ZV9zdWNjZWVkZWQgPSBzZWxmLl9hY3RpdmF0ZSgpCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIGFjdGl2YXRlX3N1Y2NlZWRlZCA9IEZhbHNlCiAgICAgICAgICAgIGlmIGFjdGl2YXRlX3N1Y2NlZWRlZDoKICAgICAgICAgICAgICAgIHNlbGYuY29tbXVuaWNhdGlvbl9sYXN0ID0gdGltZS50aW1lKCkKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgICAgIHRpbWUuc2xlZXAoc2VsZi5yZXRyeV93YWl0KQogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBfZGVhY3RpdmF0ZShzZWxmKToKICAgICAgICByZXR1cm4KCiAgICBkZWYgZGVhY3RpdmF0ZShzZWxmKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYuX2RlYWN0aXZhdGUoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwogICAgICAgIHNlbGYuY29tbXVuaWNhdGlvbl9sYXN0ID0gMAogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIGRlY3J5cHRfcGFja2V0KHNlbGYsIHBrdCk6CiAgICAgICAgaWYgcGt0IGFuZCBsZW4ocGt0KSA+IFBBQ0tFVF9IRUFERVJfU0laRToKICAgICAgICAgICAgeG9yX2tleSA9IHN0cnVjdC51bnBhY2soJ0JCQkInLCBwa3RbOlBBQ0tFVF9YT1JfS0VZX1NJWkVdKQogICAgICAgICAgICByYXcgPSB4b3JfYnl0ZXMoeG9yX2tleSwgcGt0KQogICAgICAgICAgICBlbmNfb2Zmc2V0ID0gUEFDS0VUX1hPUl9LRVlfU0laRSArIFBBQ0tFVF9TRVNTSU9OX0dVSURfU0laRQogICAgICAgICAgICBlbmNfZmxhZyA9IHN0cnVjdC51bnBhY2soJz5JJywgcmF3W2VuY19vZmZzZXQ6ZW5jX29mZnNldCtQQUNLRVRfRU5DUllQVF9GTEFHX1NJWkVdKVswXQogICAgICAgICAgICBpZiBlbmNfZmxhZyA9PSBFTkNfQUVTMjU2OgogICAgICAgICAgICAgICAgaXYgPSByYXdbUEFDS0VUX0hFQURFUl9TSVpFOlBBQ0tFVF9IRUFERVJfU0laRSsxNl0KICAgICAgICAgICAgICAgIGVuY3J5cHRlZCA9IHJhd1tQQUNLRVRfSEVBREVSX1NJWkUrbGVuKGl2KTpdCiAgICAgICAgICAgICAgICByZXR1cm4gbWV0X2Flc19kZWNyeXB0KHNlbGYuYWVzX2tleSwgaXYsIGVuY3J5cHRlZCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiByYXdbUEFDS0VUX0hFQURFUl9TSVpFOl0KICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBnZXRfcGFja2V0KHNlbGYpOgogICAgICAgIHNlbGYucmVxdWVzdF9yZXRpcmUgPSBGYWxzZQogICAgICAgIHRyeToKICAgICAgICAgICAgcGt0ID0gc2VsZi5kZWNyeXB0X3BhY2tldChzZWxmLl9nZXRfcGFja2V0KCkpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBkZWJ1Z190cmFjZWJhY2soKQogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIGlmIHBrdCBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIHNlbGYuY29tbXVuaWNhdGlvbl9sYXN0ID0gdGltZS50aW1lKCkKICAgICAgICByZXR1cm4gcGt0CgogICAgZGVmIGVuY3J5cHRfcGFja2V0KHNlbGYsIHBrdCk6CiAgICAgICAgIyBUaGUgcGFja2V0IG5vdyBoYXMgdG8gY29udGFpbiBzZXNzaW9uIEdVSUQgYW5kIGVuY3J5cHRpb24gZmxhZyBpbmZvCiAgICAgICAgIyBBbmQgZ2l2ZW4gdGhhdCB3ZSdyZSBub3QgeWV0IHN1cHBvcnRpbmcgQUVTLCB3ZSdyZSBnb2luZyB0byBqdXN0CiAgICAgICAgIyBhbHdheXMgcmV0dXJuIHRoZSBzZXNzaW9uIGd1aWQgYW5kIHRoZSBlbmNyeXB0aW9uIGZsYWcgc2V0IHRvIDAKICAgICAgICBlbmNfdHlwZSA9IEVOQ19OT05FCiAgICAgICAgaWYgc2VsZi5hZXNfa2V5OgogICAgICAgICAgICAjIFRoZSBlbmNyeXB0aW9uIGtleSBpcyBwcmVzZW50LCBidXQgd2Ugc2hvdWxkIG9ubHkgdXNlZCB0aGUga2V5CiAgICAgICAgICAgICMgd2hlbiBpdCBpcyBlbmFibGVkLiBJZiB3ZSB1c2UgaXQgYmVmb3JlIGl0J3MgZW5hYmxlZCwgdGhlbiB3ZQogICAgICAgICAgICAjIGVuZCB1cCBlbmNyeXB0aW5nIHRoZSBwYWNrZXQgdGhhdCBjb250YWlucyB0aGUga2V5IGJlZm9yZQogICAgICAgICAgICAjIHNlbmRpbmcgaXQgYmFjayB0byBNU0YsIGFuZCBpdCB3b24ndCBiZSBhYmxlIHRvIGRlY3J5cHQgaXQgeWV0LgogICAgICAgICAgICBpZiBzZWxmLmFlc19lbmFibGVkOgogICAgICAgICAgICAgICAgaXYgPSByYW5kX2J5dGVzKDE2KQogICAgICAgICAgICAgICAgZW5jID0gaXYgKyBtZXRfYWVzX2VuY3J5cHQoc2VsZi5hZXNfa2V5LCBpdiwgcGt0Wzg6XSkKICAgICAgICAgICAgICAgIGhkciA9IHN0cnVjdC5wYWNrKCc+SScsIGxlbihlbmMpICsgOCkgKyBwa3RbNDo4XQogICAgICAgICAgICAgICAgcGt0ID0gaGRyICsgZW5jCiAgICAgICAgICAgICAgICAjIFdlIGNoYW5nZSB0aGUgcGFja2V0IGVuY3J5cHRpb24gdHlwZSB0byB0ZWxsIE1TRiB0aGF0CiAgICAgICAgICAgICAgICAjIHRoZSBwYWNrZXQgaXMgZW5jcnlwdGVkLgogICAgICAgICAgICAgICAgZW5jX3R5cGUgPSBFTkNfQUVTMjU2CiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAjIElmIHdlIGdldCBoZXJlLCBpdCBtZWFucyB0aGF0IHRoZSBBRVMgZW5jcnlwdGlvbiBrZXkKICAgICAgICAgICAgICAgICMgaXMgcmVhZHkgdG8gdXNlIGZyb20gdGhpcyBwb2ludCBvbndhcmRzIGFzIHRoZSBsYXN0CiAgICAgICAgICAgICAgICAjIHBsYWluIHRleHQgcGFja2V0IGhhcyBiZWVuIHNlbnQgYmFjayB0byBNU0YgY29udGFpbmluZwogICAgICAgICAgICAgICAgIyB0aGUga2V5LCBhbmQgc28gTVNGIHdpbGwgYmUgYWJsZSB0byBoYW5kbGUgZW5jcnlwdGVkCiAgICAgICAgICAgICAgICAjIGNvbW11bmljYXRpb25zIGZyb20gaGVyZS4KICAgICAgICAgICAgICAgIHNlbGYuYWVzX2VuYWJsZWQgPSBUcnVlCgogICAgICAgIHhvcl9rZXkgPSByYW5kX3hvcl9rZXkoKQogICAgICAgIHJhdyA9IGJpbmFzY2lpLmEyYl9oZXgoYnl0ZXMoU0VTU0lPTl9HVUlELCAnVVRGLTgnKSkgKyBzdHJ1Y3QucGFjaygnPkknLCBlbmNfdHlwZSkgKyBwa3QKICAgICAgICByZXN1bHQgPSBzdHJ1Y3QucGFjaygnQkJCQicsICp4b3Jfa2V5KSArIHhvcl9ieXRlcyh4b3Jfa2V5LCByYXcpCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIGRlZiBzZW5kX3BhY2tldChzZWxmLCBwa3QpOgogICAgICAgIHBrdCA9IHN0cnVjdC5wYWNrKCc+SScsIGxlbihwa3QpICsgNCkgKyBwa3QKICAgICAgICBzZWxmLnJlcXVlc3RfcmV0aXJlID0gRmFsc2UKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYuX3NlbmRfcGFja2V0KHNlbGYuZW5jcnlwdF9wYWNrZXQocGt0KSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGRlYnVnX3RyYWNlYmFjaygpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIHNlbGYuY29tbXVuaWNhdGlvbl9sYXN0ID0gdGltZS50aW1lKCkKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiB0bHZfcGFja190aW1lb3V0cyhzZWxmKToKICAgICAgICByZXNwb25zZSAgPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19DT01NX1RJTUVPVVQsIHNlbGYuY29tbXVuaWNhdGlvbl90aW1lb3V0KQogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1RSQU5TX1JFVFJZX1RPVEFMLCBzZWxmLnJldHJ5X3RvdGFsKQogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1RSQU5TX1JFVFJZX1dBSVQsIHNlbGYucmV0cnlfd2FpdCkKICAgICAgICByZXR1cm4gcmVzcG9uc2UKCiAgICBkZWYgdGx2X3BhY2tfdHJhbnNwb3J0X2dyb3VwKHNlbGYpOgogICAgICAgIHRyYW5zX2dyb3VwICA9IHRsdl9wYWNrKFRMVl9UWVBFX1RSQU5TX1VSTCwgc2VsZi51cmwpCiAgICAgICAgdHJhbnNfZ3JvdXAgKz0gc2VsZi50bHZfcGFja190aW1lb3V0cygpCiAgICAgICAgcmV0dXJuIHRyYW5zX2dyb3VwCgpjbGFzcyBIdHRwVHJhbnNwb3J0KFRyYW5zcG9ydCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdXJsLCBwcm94eT1Ob25lLCB1c2VyX2FnZW50PU5vbmUsIGh0dHBfaG9zdD1Ob25lLCBodHRwX3JlZmVyZXI9Tm9uZSwgaHR0cF9jb29raWU9Tm9uZSk6CiAgICAgICAgc3VwZXIoSHR0cFRyYW5zcG9ydCwgc2VsZikuX19pbml0X18oKQogICAgICAgIG9wZW5lcl9hcmdzID0gW10KICAgICAgICBzY2hlbWUgPSB1cmwuc3BsaXQoJzonLCAxKVswXQogICAgICAgIGlmIHNjaGVtZSA9PSAnaHR0cHMnIGFuZCAoKHN5cy52ZXJzaW9uX2luZm9bMF0gPT0gMiBhbmQgc3lzLnZlcnNpb25faW5mbyA+PSAoMiwgNywgOSkpIG9yIHN5cy52ZXJzaW9uX2luZm8gPj0gKDMsIDQsIDMpKToKICAgICAgICAgICAgaW1wb3J0IHNzbAogICAgICAgICAgICBzc2xfY3R4ID0gc3NsLlNTTENvbnRleHQoc3NsLlBST1RPQ09MX1NTTHYyMykKICAgICAgICAgICAgc3NsX2N0eC5jaGVja19ob3N0bmFtZSA9IEZhbHNlCiAgICAgICAgICAgIHNzbF9jdHgudmVyaWZ5X21vZGUgPSBzc2wuQ0VSVF9OT05FCiAgICAgICAgICAgIG9wZW5lcl9hcmdzLmFwcGVuZCh1cmxsaWIuSFRUUFNIYW5kbGVyKDAsIHNzbF9jdHgpKQogICAgICAgIGlmIHByb3h5OgogICAgICAgICAgICBvcGVuZXJfYXJncy5hcHBlbmQodXJsbGliLlByb3h5SGFuZGxlcih7c2NoZW1lOiBwcm94eX0pKQogICAgICAgICAgICBvcGVuZXJfYXJncy5hcHBlbmQodXJsbGliLlByb3h5QmFzaWNBdXRoSGFuZGxlcigpKQogICAgICAgIHNlbGYucHJveHkgPSBwcm94eQogICAgICAgIG9wZW5lciA9IHVybGxpYi5idWlsZF9vcGVuZXIoKm9wZW5lcl9hcmdzKQogICAgICAgIG9wZW5lci5hZGRoZWFkZXJzID0gW10KICAgICAgICBpZiB1c2VyX2FnZW50OgogICAgICAgICAgICBvcGVuZXIuYWRkaGVhZGVycy5hcHBlbmQoKCdVc2VyLUFnZW50JywgdXNlcl9hZ2VudCkpCiAgICAgICAgaWYgaHR0cF9jb29raWU6CiAgICAgICAgICAgIG9wZW5lci5hZGRoZWFkZXJzLmFwcGVuZCgoJ0Nvb2tpZScsIGh0dHBfY29va2llKSkKICAgICAgICBpZiBodHRwX3JlZmVyZXI6CiAgICAgICAgICAgIG9wZW5lci5hZGRoZWFkZXJzLmFwcGVuZCgoJ1JlZmVyZXInLCBodHRwX3JlZmVyZXIpKQogICAgICAgIHNlbGYudXNlcl9hZ2VudCA9IHVzZXJfYWdlbnQKICAgICAgICB1cmxsaWIuaW5zdGFsbF9vcGVuZXIob3BlbmVyKQogICAgICAgIHNlbGYudXJsID0gdXJsCiAgICAgICAgc2VsZi5faHR0cF9yZXF1ZXN0X2hlYWRlcnMgPSB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nfQogICAgICAgIGlmIGh0dHBfaG9zdDoKICAgICAgICAgICAgc2VsZi5faHR0cF9yZXF1ZXN0X2hlYWRlcnNbJ0hvc3QnXSA9IGh0dHBfaG9zdAogICAgICAgIHNlbGYuX2ZpcnN0X3BhY2tldCA9IE5vbmUKICAgICAgICBzZWxmLl9lbXB0eV9jbnQgPSAwCgogICAgZGVmIF9nZXRfcGFja2V0KHNlbGYpOgogICAgICAgIGlmIHNlbGYuX2ZpcnN0X3BhY2tldDoKICAgICAgICAgICAgcGFja2V0ID0gc2VsZi5fZmlyc3RfcGFja2V0CiAgICAgICAgICAgIHNlbGYuX2ZpcnN0X3BhY2tldCA9IE5vbmUKICAgICAgICAgICAgcmV0dXJuIHBhY2tldAogICAgICAgIHBhY2tldCA9IE5vbmUKICAgICAgICB4b3Jfa2V5ID0gTm9uZQogICAgICAgIHVybF9oID0gTm9uZQogICAgICAgIHJlcXVlc3QgPSB1cmxsaWIuUmVxdWVzdChzZWxmLnVybCwgTm9uZSwgc2VsZi5faHR0cF9yZXF1ZXN0X2hlYWRlcnMpCiAgICAgICAgdXJsb3Blbl9rd2FyZ3MgPSB7fQogICAgICAgIGlmIHN5cy52ZXJzaW9uX2luZm8gPiAoMiwgNik6CiAgICAgICAgICAgIHVybG9wZW5fa3dhcmdzWyd0aW1lb3V0J10gPSBzZWxmLmNvbW11bmljYXRpb25fdGltZW91dAogICAgICAgIHRyeToKICAgICAgICAgICAgdXJsX2ggPSB1cmxsaWIudXJsb3BlbihyZXF1ZXN0LCAqKnVybG9wZW5fa3dhcmdzKQogICAgICAgICAgICBpZiB1cmxfaC5jb2RlID09IDIwMDoKICAgICAgICAgICAgICAgIHBhY2tldCA9IHVybF9oLnJlYWQoKQogICAgICAgICAgICAgICAgaWYgbGVuKHBhY2tldCkgPCBQQUNLRVRfSEVBREVSX1NJWkU6CiAgICAgICAgICAgICAgICAgICAgcGFja2V0ID0gTm9uZSAgIyBsb29rcyBjb3JydXB0CiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHhvcl9rZXkgPSBzdHJ1Y3QudW5wYWNrKCdCQkJCJywgcGFja2V0WzpQQUNLRVRfWE9SX0tFWV9TSVpFXSkKICAgICAgICAgICAgICAgICAgICBoZWFkZXIgPSB4b3JfYnl0ZXMoeG9yX2tleSwgcGFja2V0WzpQQUNLRVRfSEVBREVSX1NJWkVdKQogICAgICAgICAgICAgICAgICAgIHBrdF9sZW5ndGggPSBzdHJ1Y3QudW5wYWNrKCc+SScsIGhlYWRlcltQQUNLRVRfTEVOR1RIX09GRjpQQUNLRVRfTEVOR1RIX09GRiArIFBBQ0tFVF9MRU5HVEhfU0laRV0pWzBdIC0gOAogICAgICAgICAgICAgICAgICAgIGlmIGxlbihwYWNrZXQpICE9IChwa3RfbGVuZ3RoICsgUEFDS0VUX0hFQURFUl9TSVpFKToKICAgICAgICAgICAgICAgICAgICAgICAgcGFja2V0ID0gTm9uZSAgIyBsb29rcyBjb3JydXB0CiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBkZWJ1Z190cmFjZWJhY2soJ1stXSBmYWlsdXJlIHRvIHJlY2VpdmUgcGFja2V0IGZyb20gJyArIHNlbGYudXJsKQoKICAgICAgICBpZiBub3QgcGFja2V0OgogICAgICAgICAgICBpZiB1cmxfaCBhbmQgdXJsX2guY29kZSA9PSAyMDA6CiAgICAgICAgICAgICAgICAjIHNlcnZlciBoYXMgbm90aGluZyBmb3IgdXMgYnV0IHRoaXMgaXMgZmluZSBzbyB1cGRhdGUgdGhlIGNvbW11bmljYXRpb24gdGltZSBhbmQgd2FpdAogICAgICAgICAgICAgICAgc2VsZi5jb21tdW5pY2F0aW9uX2xhc3QgPSB0aW1lLnRpbWUoKQogICAgICAgICAgICBkZWxheSA9IDEwMCAqIHNlbGYuX2VtcHR5X2NudAogICAgICAgICAgICBzZWxmLl9lbXB0eV9jbnQgKz0gMQogICAgICAgICAgICB0aW1lLnNsZWVwKGZsb2F0KG1pbigxMDAwMCwgZGVsYXkpKSAvIDEwMDApCiAgICAgICAgICAgIHJldHVybiBwYWNrZXQKCiAgICAgICAgc2VsZi5fZW1wdHlfY250ID0gMAogICAgICAgIHJldHVybiBwYWNrZXQKCiAgICBkZWYgX3NlbmRfcGFja2V0KHNlbGYsIHBhY2tldCk6CiAgICAgICAgcmVxdWVzdCA9IHVybGxpYi5SZXF1ZXN0KHNlbGYudXJsLCBwYWNrZXQsIHNlbGYuX2h0dHBfcmVxdWVzdF9oZWFkZXJzKQogICAgICAgIHVybG9wZW5fa3dhcmdzID0ge30KICAgICAgICBpZiBzeXMudmVyc2lvbl9pbmZvID4gKDIsIDYpOgogICAgICAgICAgICB1cmxvcGVuX2t3YXJnc1sndGltZW91dCddID0gc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQKICAgICAgICB1cmxfaCA9IHVybGxpYi51cmxvcGVuKHJlcXVlc3QsICoqdXJsb3Blbl9rd2FyZ3MpCiAgICAgICAgcmVzcG9uc2UgPSB1cmxfaC5yZWFkKCkKCiAgICBkZWYgcGF0Y2hfdXJpX3BhdGgoc2VsZiwgbmV3X3BhdGgpOgogICAgICAgIG1hdGNoID0gcmUubWF0Y2gocidodHRwcz86Ly9bXi9dKygvLiokKScsIHNlbGYudXJsKQogICAgICAgIGlmIG1hdGNoIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIHNlbGYudXJsID0gc2VsZi51cmxbOm1hdGNoLnNwYW4oMSlbMF1dICsgbmV3X3BhdGgKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiB0bHZfcGFja190cmFuc3BvcnRfZ3JvdXAoc2VsZik6CiAgICAgICAgdHJhbnNfZ3JvdXAgID0gc3VwZXIoSHR0cFRyYW5zcG9ydCwgc2VsZikudGx2X3BhY2tfdHJhbnNwb3J0X2dyb3VwKCkKICAgICAgICBpZiBzZWxmLnVzZXJfYWdlbnQ6CiAgICAgICAgICAgIHRyYW5zX2dyb3VwICs9IHRsdl9wYWNrKFRMVl9UWVBFX1RSQU5TX1VBLCBzZWxmLnVzZXJfYWdlbnQpCiAgICAgICAgaWYgc2VsZi5wcm94eToKICAgICAgICAgICAgdHJhbnNfZ3JvdXAgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfUFJPWFlfSE9TVCwgc2VsZi5wcm94eSkKICAgICAgICByZXR1cm4gdHJhbnNfZ3JvdXAKCmNsYXNzIFRjcFRyYW5zcG9ydChUcmFuc3BvcnQpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVybCwgc29ja2V0PU5vbmUpOgogICAgICAgIHN1cGVyKFRjcFRyYW5zcG9ydCwgc2VsZikuX19pbml0X18oKQogICAgICAgIHNlbGYudXJsID0gdXJsCiAgICAgICAgc2VsZi5zb2NrZXQgPSBzb2NrZXQKICAgICAgICBzZWxmLl9jbGVhbnVwX3RocmVhZCA9IE5vbmUKICAgICAgICBzZWxmLl9maXJzdF9wYWNrZXQgPSBUcnVlCgogICAgZGVmIF9zb2NrX2NsZWFudXAoc2VsZiwgc29jayk6CiAgICAgICAgcmVtYWluaW5nX3RpbWUgPSBzZWxmLmNvbW11bmljYXRpb25fdGltZW91dAogICAgICAgIHdoaWxlIHJlbWFpbmluZ190aW1lID4gMDoKICAgICAgICAgICAgaXRlcl9zdGFydF90aW1lID0gdGltZS50aW1lKCkKICAgICAgICAgICAgaWYgc2VsZWN0LnNlbGVjdChbc29ja10sIFtdLCBbXSwgcmVtYWluaW5nX3RpbWUpWzBdOgogICAgICAgICAgICAgICAgaWYgbGVuKHNvY2sucmVjdig0MDk2KSkgPT0gMDoKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICByZW1haW5pbmdfdGltZSAtPSB0aW1lLnRpbWUoKSAtIGl0ZXJfc3RhcnRfdGltZQogICAgICAgIHNvY2suY2xvc2UoKQoKICAgIGRlZiBfYWN0aXZhdGUoc2VsZik6CiAgICAgICAgYWRkcmVzcywgcG9ydCA9IHNlbGYudXJsWzY6XS5yc3BsaXQoJzonLCAxKQogICAgICAgIHBvcnQgPSBpbnQocG9ydC5yc3RyaXAoJy8nKSkKICAgICAgICB0aW1lb3V0ID0gbWF4KHNlbGYuY29tbXVuaWNhdGlvbl90aW1lb3V0LCAzMCkKICAgICAgICBpZiBhZGRyZXNzIGluICgnJywgJzAuMC4wLjAnLCAnOjonKToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2VydmVyX3NvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVUNiwgc29ja2V0LlNPQ0tfU1RSRUFNKQogICAgICAgICAgICAgICAgc2VydmVyX3NvY2suc2V0c29ja29wdChzb2NrZXQuSVBQUk9UT19JUFY2LCBzb2NrZXQuSVBWNl9WNk9OTFksIDApCiAgICAgICAgICAgIGV4Y2VwdCAoQXR0cmlidXRlRXJyb3IsIHNvY2tldC5lcnJvcik6CiAgICAgICAgICAgICAgICBzZXJ2ZXJfc29jayA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX1NUUkVBTSkKICAgICAgICAgICAgc2VydmVyX3NvY2suYmluZCgoJycsIHBvcnQpKQogICAgICAgICAgICBzZXJ2ZXJfc29jay5saXN0ZW4oMSkKICAgICAgICAgICAgaWYgbm90IHNlbGVjdC5zZWxlY3QoW3NlcnZlcl9zb2NrXSwgW10sIFtdLCB0aW1lb3V0KVswXToKICAgICAgICAgICAgICAgIHNlcnZlcl9zb2NrLmNsb3NlKCkKICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgICAgICBzb2NrLCBfID0gc2VydmVyX3NvY2suYWNjZXB0KCkKICAgICAgICAgICAgc2VydmVyX3NvY2suY2xvc2UoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGlmICc6JyBpbiBhZGRyZXNzOgogICAgICAgICAgICAgICAgc29jayA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQ2LCBzb2NrZXQuU09DS19TVFJFQU0pCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzb2NrID0gc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVCwgc29ja2V0LlNPQ0tfU1RSRUFNKQogICAgICAgICAgICBzb2NrLnNldHRpbWVvdXQodGltZW91dCkKICAgICAgICAgICAgc29jay5jb25uZWN0KChhZGRyZXNzLCBwb3J0KSkKICAgICAgICAgICAgc29jay5zZXR0aW1lb3V0KE5vbmUpCiAgICAgICAgc2VsZi5zb2NrZXQgPSBzb2NrCiAgICAgICAgc2VsZi5fZmlyc3RfcGFja2V0ID0gVHJ1ZQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIF9kZWFjdGl2YXRlKHNlbGYpOgogICAgICAgIGNsZWFudXAgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1zZWxmLl9zb2NrX2NsZWFudXAsIGFyZ3M9KHNlbGYuc29ja2V0LCkpCiAgICAgICAgY2xlYW51cC5ydW4oKQogICAgICAgIHNlbGYuc29ja2V0ID0gTm9uZQoKICAgIGRlZiBfZ2V0X3BhY2tldChzZWxmKToKICAgICAgICBmaXJzdCA9IHNlbGYuX2ZpcnN0X3BhY2tldAogICAgICAgIHNlbGYuX2ZpcnN0X3BhY2tldCA9IEZhbHNlCiAgICAgICAgaWYgbm90IHNlbGVjdC5zZWxlY3QoW3NlbGYuc29ja2V0XSwgW10sIFtdLCAwLjUpWzBdOgogICAgICAgICAgICByZXR1cm4gYnl0ZXMoKQogICAgICAgIHBhY2tldCA9IHNlbGYuc29ja2V0LnJlY3YoUEFDS0VUX0hFQURFUl9TSVpFKQogICAgICAgIGlmIHBhY2tldCA9PSAnJzogICMgcmVtb3RlIGlzIGNsb3NlZAogICAgICAgICAgICBzZWxmLnJlcXVlc3RfcmV0aXJlID0gVHJ1ZQogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIGlmIGxlbihwYWNrZXQpICE9IFBBQ0tFVF9IRUFERVJfU0laRToKICAgICAgICAgICAgaWYgZmlyc3QgYW5kIGxlbihwYWNrZXQpID09IDQ6CiAgICAgICAgICAgICAgICByZWNlaXZlZCA9IDAKICAgICAgICAgICAgICAgIGhlYWRlciA9IHBhY2tldFs6NF0KICAgICAgICAgICAgICAgIHBrdF9sZW5ndGggPSBzdHJ1Y3QudW5wYWNrKCc+SScsIGhlYWRlcilbMF0KICAgICAgICAgICAgICAgIHNlbGYuc29ja2V0LnNldHRpbWVvdXQobWF4KHNlbGYuY29tbXVuaWNhdGlvbl90aW1lb3V0LCAzMCkpCiAgICAgICAgICAgICAgICB3aGlsZSByZWNlaXZlZCA8IHBrdF9sZW5ndGg6CiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQgKz0gbGVuKHNlbGYuc29ja2V0LnJlY3YocGt0X2xlbmd0aCAtIHJlY2VpdmVkKSkKICAgICAgICAgICAgICAgIHNlbGYuc29ja2V0LnNldHRpbWVvdXQoTm9uZSkKICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9nZXRfcGFja2V0KCkKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICAgICAgeG9yX2tleSA9IHN0cnVjdC51bnBhY2soJ0JCQkInLCBwYWNrZXRbOlBBQ0tFVF9YT1JfS0VZX1NJWkVdKQogICAgICAgICMgWE9SIHRoZSB3aG9sZSBoZWFkZXIgZmlyc3QKICAgICAgICBoZWFkZXIgPSB4b3JfYnl0ZXMoeG9yX2tleSwgcGFja2V0WzpQQUNLRVRfSEVBREVSX1NJWkVdKQogICAgICAgICMgRXh0cmFjdCBqdXN0IHRoZSBsZW5ndGgKICAgICAgICBwa3RfbGVuZ3RoID0gc3RydWN0LnVucGFjaygnPkknLCBoZWFkZXJbUEFDS0VUX0xFTkdUSF9PRkY6UEFDS0VUX0xFTkdUSF9PRkYrUEFDS0VUX0xFTkdUSF9TSVpFXSlbMF0KICAgICAgICBwa3RfbGVuZ3RoIC09IDgKICAgICAgICAjIFJlYWQgdGhlIHJlc3Qgb2YgdGhlIHBhY2tldAogICAgICAgIHJlc3QgPSBieXRlcygpCiAgICAgICAgd2hpbGUgbGVuKHJlc3QpIDwgcGt0X2xlbmd0aDoKICAgICAgICAgICAgcmVzdCArPSBzZWxmLnNvY2tldC5yZWN2KHBrdF9sZW5ndGggLSBsZW4ocmVzdCkpCiAgICAgICAgIyByZXR1cm4gdGhlIHdob2xlIHBhY2tldCwgYXMgaXQncyBkZWNvZGVkIHNlcGFyYXRlbHkKICAgICAgICByZXR1cm4gcGFja2V0ICsgcmVzdAoKICAgIGRlZiBfc2VuZF9wYWNrZXQoc2VsZiwgcGFja2V0KToKICAgICAgICBzZWxmLnNvY2tldC5zZW5kKHBhY2tldCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX3NvY2tldChjbHMsIHNvY2spOgogICAgICAgIHVybCA9ICd0Y3A6Ly8nCiAgICAgICAgYWRkcmVzcywgcG9ydCA9IHNvY2suZ2V0c29ja25hbWUoKVs6Ml0KICAgICAgICAjIHRoaXMgd2lsbCBuZWVkIHRvIGJlIGNoYW5nZWQgaWYgdGhlIGJpbmQgc3RhZ2VyIGV2ZXIgc3VwcG9ydHMgYmluZGluZyB0byBhIHNwZWNpZmljIGFkZHJlc3MKICAgICAgICBpZiBub3QgYWRkcmVzcyBpbiAoJycsICcwLjAuMC4wJywgJzo6Jyk6CiAgICAgICAgICAgIGFkZHJlc3MsIHBvcnQgPSBzb2NrLmdldHBlZXJuYW1lKClbOjJdCiAgICAgICAgdXJsICs9IGFkZHJlc3MgKyAnOicgKyBzdHIocG9ydCkKICAgICAgICByZXR1cm4gY2xzKHVybCwgc29jaykKCmNsYXNzIFB5dGhvbk1ldGVycHJldGVyKG9iamVjdCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdHJhbnNwb3J0KToKICAgICAgICBzZWxmLnRyYW5zcG9ydCA9IHRyYW5zcG9ydAogICAgICAgIHNlbGYuX3RyYW5zcG9ydF9zbGVlcCA9IE5vbmUKICAgICAgICBzZWxmLnJ1bm5pbmcgPSBGYWxzZQogICAgICAgIHNlbGYubGFzdF9yZWdpc3RlcmVkX2V4dGVuc2lvbiA9IE5vbmUKICAgICAgICBzZWxmLmV4dGVuc2lvbl9mdW5jdGlvbnMgPSB7fQogICAgICAgIHNlbGYuY2hhbm5lbHMgPSB7fQogICAgICAgIHNlbGYubmV4dF9jaGFubmVsX2lkID0gMQogICAgICAgIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHMgPSBbXQogICAgICAgIHNlbGYucHJvY2Vzc2VzID0ge30KICAgICAgICBzZWxmLm5leHRfcHJvY2Vzc19pZCA9IDEKICAgICAgICBzZWxmLnRyYW5zcG9ydHMgPSBbc2VsZi50cmFuc3BvcnRdCiAgICAgICAgc2VsZi5zZXNzaW9uX2V4cGlyeV90aW1lID0gU0VTU0lPTl9FWFBJUkFUSU9OX1RJTUVPVVQKICAgICAgICBzZWxmLnNlc3Npb25fZXhwaXJ5X2VuZCA9IHRpbWUudGltZSgpICsgc2VsZi5zZXNzaW9uX2V4cGlyeV90aW1lCiAgICAgICAgZm9yIGZ1bmMgaW4gbGlzdChmaWx0ZXIobGFtYmRhIHg6IHguc3RhcnRzd2l0aCgnX2NvcmUnKSwgZGlyKHNlbGYpKSk6CiAgICAgICAgICAgIHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9uc1tmdW5jWzE6XV0gPSBnZXRhdHRyKHNlbGYsIGZ1bmMpCiAgICAgICAgc2VsZi5ydW5uaW5nID0gVHJ1ZQoKICAgIGRlZiByZWdpc3Rlcl9leHRlbnNpb24oc2VsZiwgZXh0ZW5zaW9uX25hbWUpOgogICAgICAgIHNlbGYubGFzdF9yZWdpc3RlcmVkX2V4dGVuc2lvbiA9IGV4dGVuc2lvbl9uYW1lCiAgICAgICAgcmV0dXJuIHNlbGYubGFzdF9yZWdpc3RlcmVkX2V4dGVuc2lvbgoKICAgIGRlZiByZWdpc3Rlcl9mdW5jdGlvbihzZWxmLCBmdW5jKToKICAgICAgICBzZWxmLmV4dGVuc2lvbl9mdW5jdGlvbnNbZnVuYy5fX25hbWVfX10gPSBmdW5jCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgcmVnaXN0ZXJfZnVuY3Rpb25faWYoc2VsZiwgY29uZGl0aW9uKToKICAgICAgICBpZiBjb25kaXRpb246CiAgICAgICAgICAgIHJldHVybiBzZWxmLnJlZ2lzdGVyX2Z1bmN0aW9uCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIGxhbWJkYSBmdW5jdGlvbjogZnVuY3Rpb24KCiAgICBkZWYgcmVnaXN0ZXJfZnVuY3Rpb25fd2luZGxsKHNlbGYsIGZ1bmMpOgogICAgICAgIGlmIGhhc193aW5kbGw6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfZnVuY3Rpb24oZnVuYykKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiBhZGRfY2hhbm5lbChzZWxmLCBjaGFubmVsKToKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShjaGFubmVsLCBNZXRlcnByZXRlckNoYW5uZWwpOgogICAgICAgICAgICBkZWJ1Z19wcmludCgnWy1dIGNoYW5uZWwgb2JqZWN0IGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBNZXRlcnByZXRlckNoYW5uZWwnKQogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoJ2ludmFsaWQgY2hhbm5lbCBvYmplY3QnKQogICAgICAgIGlkeCA9IHNlbGYubmV4dF9jaGFubmVsX2lkCiAgICAgICAgc2VsZi5jaGFubmVsc1tpZHhdID0gY2hhbm5lbAogICAgICAgIGRlYnVnX3ByaW50KCdbKl0gYWRkZWQgY2hhbm5lbCBpZDogJyArIHN0cihpZHgpICsgJyB0eXBlOiAnICsgY2hhbm5lbC5fX2NsYXNzX18uX19uYW1lX18pCiAgICAgICAgc2VsZi5uZXh0X2NoYW5uZWxfaWQgKz0gMQogICAgICAgIHJldHVybiBpZHgKCiAgICBkZWYgYWRkX3Byb2Nlc3Moc2VsZiwgcHJvY2Vzcyk6CiAgICAgICAgaWR4ID0gc2VsZi5uZXh0X3Byb2Nlc3NfaWQKICAgICAgICBzZWxmLnByb2Nlc3Nlc1tpZHhdID0gcHJvY2VzcwogICAgICAgIGRlYnVnX3ByaW50KCdbKl0gYWRkZWQgcHJvY2VzcyBpZDogJyArIHN0cihpZHgpKQogICAgICAgIHNlbGYubmV4dF9wcm9jZXNzX2lkICs9IDEKICAgICAgICByZXR1cm4gaWR4CgogICAgZGVmIGNsb3NlX2NoYW5uZWwoc2VsZiwgY2hhbm5lbF9pZCk6CiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICB0cnk6CiAgICAgICAgICAgIGNoYW5uZWwuY2xvc2UoKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIGRlYnVnX3RyYWNlYmFjaygnWy1dIGZhaWxlZCB0byBjbG9zZSBjaGFubmVsIGlkOiAnICsgc3RyKGNoYW5uZWxfaWQpKQogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBkZWwgc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgIGlmIGNoYW5uZWxfaWQgaW4gc2VsZi5pbnRlcmFjdF9jaGFubmVsczoKICAgICAgICAgICAgc2VsZi5pbnRlcmFjdF9jaGFubmVscy5yZW1vdmUoY2hhbm5lbF9pZCkKICAgICAgICBkZWJ1Z19wcmludCgnWypdIGNsb3NlZCBhbmQgcmVtb3ZlZCBjaGFubmVsIGlkOiAnICsgc3RyKGNoYW5uZWxfaWQpKQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIGdldF9wYWNrZXQoc2VsZik6CiAgICAgICAgcGt0ID0gc2VsZi50cmFuc3BvcnQuZ2V0X3BhY2tldCgpCiAgICAgICAgaWYgcGt0IGlzIE5vbmUgYW5kIHNlbGYudHJhbnNwb3J0LnNob3VsZF9yZXRpcmU6CiAgICAgICAgICAgIHNlbGYudHJhbnNwb3J0X2NoYW5nZSgpCiAgICAgICAgcmV0dXJuIHBrdAoKICAgIGRlZiBzZW5kX3BhY2tldChzZWxmLCBwYWNrZXQpOgogICAgICAgIHNlbmRfc3VjY2VlZGVkID0gc2VsZi50cmFuc3BvcnQuc2VuZF9wYWNrZXQocGFja2V0KQogICAgICAgIGlmIG5vdCBzZW5kX3N1Y2NlZWRlZCBhbmQgc2VsZi50cmFuc3BvcnQuc2hvdWxkX3JldGlyZToKICAgICAgICAgICAgc2VsZi50cmFuc3BvcnRfY2hhbmdlKCkKICAgICAgICByZXR1cm4gc2VuZF9zdWNjZWVkZWQKCiAgICBAcHJvcGVydHkKICAgIGRlZiBzZXNzaW9uX2hhc19leHBpcmVkKHNlbGYpOgogICAgICAgIGlmIHNlbGYuc2Vzc2lvbl9leHBpcnlfdGltZSA9PSAwOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICByZXR1cm4gdGltZS50aW1lKCkgPiBzZWxmLnNlc3Npb25fZXhwaXJ5X2VuZAoKICAgIGRlZiB0cmFuc3BvcnRfYWRkKHNlbGYsIG5ld190cmFuc3BvcnQpOgogICAgICAgIG5ld19wb3NpdGlvbiA9IHNlbGYudHJhbnNwb3J0cy5pbmRleChzZWxmLnRyYW5zcG9ydCkKICAgICAgICBzZWxmLnRyYW5zcG9ydHMuaW5zZXJ0KG5ld19wb3NpdGlvbiwgbmV3X3RyYW5zcG9ydCkKCiAgICBkZWYgdHJhbnNwb3J0X2NoYW5nZShzZWxmLCBuZXdfdHJhbnNwb3J0PU5vbmUpOgogICAgICAgIGlmIG5ld190cmFuc3BvcnQgaXMgTm9uZToKICAgICAgICAgICAgbmV3X3RyYW5zcG9ydCA9IHNlbGYudHJhbnNwb3J0X25leHQoKQogICAgICAgIHNlbGYudHJhbnNwb3J0LmRlYWN0aXZhdGUoKQogICAgICAgIGRlYnVnX3ByaW50KCdbKl0gY2hhbmdpbmcgdHJhbnNwb3J0IHRvOiAnICsgbmV3X3RyYW5zcG9ydC51cmwpCiAgICAgICAgd2hpbGUgbm90IG5ld190cmFuc3BvcnQuYWN0aXZhdGUoKToKICAgICAgICAgICAgbmV3X3RyYW5zcG9ydCA9IHNlbGYudHJhbnNwb3J0X25leHQobmV3X3RyYW5zcG9ydCkKICAgICAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBjaGFuZ2luZyB0cmFuc3BvcnQgdG86ICcgKyBuZXdfdHJhbnNwb3J0LnVybCkKICAgICAgICBzZWxmLnRyYW5zcG9ydCA9IG5ld190cmFuc3BvcnQKCiAgICBkZWYgdHJhbnNwb3J0X25leHQoc2VsZiwgY3VycmVudF90cmFuc3BvcnQ9Tm9uZSk6CiAgICAgICAgaWYgY3VycmVudF90cmFuc3BvcnQgaXMgTm9uZToKICAgICAgICAgICAgY3VycmVudF90cmFuc3BvcnQgPSBzZWxmLnRyYW5zcG9ydAogICAgICAgIG5ld19pZHggPSBzZWxmLnRyYW5zcG9ydHMuaW5kZXgoY3VycmVudF90cmFuc3BvcnQpICsgMQogICAgICAgIGlmIG5ld19pZHggPT0gbGVuKHNlbGYudHJhbnNwb3J0cyk6CiAgICAgICAgICAgIG5ld19pZHggPSAwCiAgICAgICAgcmV0dXJuIHNlbGYudHJhbnNwb3J0c1tuZXdfaWR4XQoKICAgIGRlZiB0cmFuc3BvcnRfcHJldihzZWxmLCBjdXJyZW50X3RyYW5zcG9ydD1Ob25lKToKICAgICAgICBpZiBjdXJyZW50X3RyYW5zcG9ydCBpcyBOb25lOgogICAgICAgICAgICBjdXJyZW50X3RyYW5zcG9ydCA9IHNlbGYudHJhbnNwb3J0CiAgICAgICAgbmV3X2lkeCA9IHNlbGYudHJhbnNwb3J0cy5pbmRleChjdXJyZW50X3RyYW5zcG9ydCkgLSAxCiAgICAgICAgaWYgbmV3X2lkeCA9PSAtMToKICAgICAgICAgICAgbmV3X2lkeCA9IGxlbihzZWxmLnRyYW5zcG9ydHMpIC0gMQogICAgICAgIHJldHVybiBzZWxmLnRyYW5zcG9ydHNbbmV3X2lkeF0KCiAgICBkZWYgcnVuKHNlbGYpOgogICAgICAgIHdoaWxlIHNlbGYucnVubmluZyBhbmQgbm90IHNlbGYuc2Vzc2lvbl9oYXNfZXhwaXJlZDoKICAgICAgICAgICAgcmVxdWVzdCA9IHNlbGYuZ2V0X3BhY2tldCgpCiAgICAgICAgICAgIGlmIHJlcXVlc3Q6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHNlbGYuY3JlYXRlX3Jlc3BvbnNlKHJlcXVlc3QpCiAgICAgICAgICAgICAgICBpZiByZXNwb25zZToKICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbmRfcGFja2V0KHJlc3BvbnNlKQogICAgICAgICAgICAgICAgaWYgc2VsZi5fdHJhbnNwb3J0X3NsZWVwOgogICAgICAgICAgICAgICAgICAgIHNlbGYudHJhbnNwb3J0LmRlYWN0aXZhdGUoKQogICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoc2VsZi5fdHJhbnNwb3J0X3NsZWVwKQogICAgICAgICAgICAgICAgICAgIHNlbGYuX3RyYW5zcG9ydF9zbGVlcCA9IE5vbmUKICAgICAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi50cmFuc3BvcnQuYWN0aXZhdGUoKToKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50cmFuc3BvcnRfY2hhbmdlKCkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAjIGl0ZXJhdGUgb3ZlciB0aGUga2V5cyBiZWNhdXNlIHNlbGYuY2hhbm5lbHMgY291bGQgYmUgbW9kaWZpZWQgaWYgb25lIGlzIGNsb3NlZAogICAgICAgICAgICBjaGFubmVsX2lkcyA9IGxpc3Qoc2VsZi5jaGFubmVscy5rZXlzKCkpCiAgICAgICAgICAgIGZvciBjaGFubmVsX2lkIGluIGNoYW5uZWxfaWRzOgogICAgICAgICAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICAgICAgICAgIGRhdGEgPSBieXRlcygpCiAgICAgICAgICAgICAgICB3cml0ZV9yZXF1ZXN0X3BhcnRzID0gW10KICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoY2hhbm5lbCwgTWV0ZXJwcmV0ZXJQcm9jZXNzKToKICAgICAgICAgICAgICAgICAgICBpZiBjaGFubmVsX2lkIGluIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHM6CiAgICAgICAgICAgICAgICAgICAgICAgIHByb2NfaCA9IGNoYW5uZWwucHJvY19oCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHByb2NfaC5zdGRlcnJfcmVhZGVyLmlzX3JlYWRfcmVhZHkoKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgKz0gcHJvY19oLnN0ZGVycl9yZWFkZXIucmVhZCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHByb2NfaC5zdGRvdXRfcmVhZGVyLmlzX3JlYWRfcmVhZHkoKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgKz0gcHJvY19oLnN0ZG91dF9yZWFkZXIucmVhZCgpCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGNoYW5uZWwuaXNfYWxpdmUoKToKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVfZGVhZF9yZXNvdXJjZV9jaGFubmVsKGNoYW5uZWxfaWQpCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2xvc2UoKQogICAgICAgICAgICAgICAgZWxpZiBpc2luc3RhbmNlKGNoYW5uZWwsIE1ldGVycHJldGVyU29ja2V0VENQQ2xpZW50KToKICAgICAgICAgICAgICAgICAgICB3aGlsZSBzZWxlY3Quc2VsZWN0KFtjaGFubmVsLmZpbGVubygpXSwgW10sIFtdLCAwKVswXToKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9IGNoYW5uZWwucmVhZCgxKQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgc29ja2V0LmVycm9yOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9IGJ5dGVzKCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuKGQpID09IDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhhbmRsZV9kZWFkX3Jlc291cmNlX2NoYW5uZWwoY2hhbm5lbF9pZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgKz0gZAogICAgICAgICAgICAgICAgZWxpZiBpc2luc3RhbmNlKGNoYW5uZWwsIE1ldGVycHJldGVyU29ja2V0VENQU2VydmVyKToKICAgICAgICAgICAgICAgICAgICBpZiBzZWxlY3Quc2VsZWN0KFtjaGFubmVsLmZpbGVubygpXSwgW10sIFtdLCAwKVswXToKICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWVudF9zb2NrLCBjbGllbnRfYWRkcikgPSBjaGFubmVsLnNvY2suYWNjZXB0KCkKICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyX2FkZHIgPSBjaGFubmVsLnNvY2suZ2V0c29ja25hbWUoKQogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfY2hhbm5lbF9pZCA9IHNlbGYuYWRkX2NoYW5uZWwoTWV0ZXJwcmV0ZXJTb2NrZXRUQ1BDbGllbnQoY2xpZW50X3NvY2spKQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbmRfcGFja2V0KHRsdl9wYWNrX3JlcXVlc3QoJ3N0ZGFwaV9uZXRfdGNwX2NoYW5uZWxfb3BlbicsIFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX0NIQU5ORUxfSUQsICd2YWx1ZSc6IGNsaWVudF9jaGFubmVsX2lkfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX0NIQU5ORUxfUEFSRU5USUQsICd2YWx1ZSc6IGNoYW5uZWxfaWR9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfTE9DQUxfSE9TVCwgJ3ZhbHVlJzogc2VydmVyX2FkZHJbMF19LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfTE9DQUxfUE9SVCwgJ3ZhbHVlJzogc2VydmVyX2FkZHJbMV19LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfUEVFUl9IT1NULCAndmFsdWUnOiBjbGllbnRfYWRkclswXX0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9QRUVSX1BPUlQsICd2YWx1ZSc6IGNsaWVudF9hZGRyWzFdfSwKICAgICAgICAgICAgICAgICAgICAgICAgXSkpCiAgICAgICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoY2hhbm5lbCwgTWV0ZXJwcmV0ZXJTb2NrZXRVRFBDbGllbnQpOgogICAgICAgICAgICAgICAgICAgIGlmIHNlbGVjdC5zZWxlY3QoW2NoYW5uZWwuZmlsZW5vKCldLCBbXSwgW10sIDApWzBdOgogICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLCBwZWVyX2FkZHJlc3MgPSBjaGFubmVsLnNvY2sucmVjdmZyb20oNjU1MzUpCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBzb2NrZXQuZXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhhbmRsZV9kZWFkX3Jlc291cmNlX2NoYW5uZWwoY2hhbm5lbF9pZCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlX3JlcXVlc3RfcGFydHMuZXh0ZW5kKFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9QRUVSX0hPU1QsICd2YWx1ZSc6IHBlZXJfYWRkcmVzc1swXX0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfUEVFUl9QT1JULCAndmFsdWUnOiBwZWVyX2FkZHJlc3NbMV19LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgIGlmIGRhdGE6CiAgICAgICAgICAgICAgICAgICAgd3JpdGVfcmVxdWVzdF9wYXJ0cy5leHRlbmQoWwogICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9DSEFOTkVMX0lELCAndmFsdWUnOiBjaGFubmVsX2lkfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfQ0hBTk5FTF9EQVRBLCAndmFsdWUnOiBkYXRhfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfTEVOR1RILCAndmFsdWUnOiBsZW4oZGF0YSl9LAogICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZW5kX3BhY2tldCh0bHZfcGFja19yZXF1ZXN0KCdjb3JlX2NoYW5uZWxfd3JpdGUnLCB3cml0ZV9yZXF1ZXN0X3BhcnRzKSkKCiAgICBkZWYgaGFuZGxlX2RlYWRfcmVzb3VyY2VfY2hhbm5lbChzZWxmLCBjaGFubmVsX2lkKToKICAgICAgICBpZiBjaGFubmVsX2lkIGluIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHM6CiAgICAgICAgICAgIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHMucmVtb3ZlKGNoYW5uZWxfaWQpCiAgICAgICAgc2VsZi5zZW5kX3BhY2tldCh0bHZfcGFja19yZXF1ZXN0KCdjb3JlX2NoYW5uZWxfY2xvc2UnLCBbCiAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX0NIQU5ORUxfSUQsICd2YWx1ZSc6IGNoYW5uZWxfaWR9LAogICAgICAgIF0pKQoKICAgIGRlZiBfY29yZV9zZXRfdXVpZChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgbmV3X3V1aWQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9VVUlEKQogICAgICAgIGlmIG5ld191dWlkOgogICAgICAgICAgICBQQVlMT0FEX1VVSUQgPSBiaW5hc2NpaS5iMmFfaGV4KG5ld191dWlkWyd2YWx1ZSddKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9lbnVtZXh0Y21kKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBpZF9zdGFydCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1VJTlQpWyd2YWx1ZSddCiAgICAgICAgaWRfZW5kID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfTEVOR1RIKVsndmFsdWUnXSArIGlkX3N0YXJ0CiAgICAgICAgZm9yIGZ1bmNfbmFtZSBpbiBzZWxmLmV4dGVuc2lvbl9mdW5jdGlvbnMua2V5cygpOgogICAgICAgICAgICBjb21tYW5kX2lkID0gY21kX3N0cmluZ190b19pZChmdW5jX25hbWUpCiAgICAgICAgICAgIGlmIGNvbW1hbmRfaWQgaXMgTm9uZToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGlmIGlkX3N0YXJ0IDwgY29tbWFuZF9pZCBhbmQgY29tbWFuZF9pZCA8IGlkX2VuZDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1VJTlQsIGNvbW1hbmRfaWQpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2dldF9zZXNzaW9uX2d1aWQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1NFU1NJT05fR1VJRCwgYmluYXNjaWkuYTJiX2hleChieXRlcyhTRVNTSU9OX0dVSUQsICdVVEYtOCcpKSkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfc2V0X3Nlc3Npb25fZ3VpZChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgbmV3X2d1aWQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9TRVNTSU9OX0dVSUQpCiAgICAgICAgaWYgbmV3X2d1aWQ6CiAgICAgICAgICAgIFNFU1NJT05fR1VJRCA9IGJpbmFzY2lpLmIyYV9oZXgobmV3X2d1aWRbJ3ZhbHVlJ10pCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX21hY2hpbmVfaWQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHNlcmlhbCA9ICcnCiAgICAgICAgbWFjaGluZV9uYW1lID0gcGxhdGZvcm0udW5hbWUoKVsxXQogICAgICAgIGlmIGhhc193aW5kbGw6CiAgICAgICAgICAgIGZyb20gY3R5cGVzIGltcG9ydCB3aW50eXBlcwoKICAgICAgICAgICAgazMyID0gY3R5cGVzLndpbmRsbC5rZXJuZWwzMgogICAgICAgICAgICBzeXNfZGlyID0gY3R5cGVzLmNyZWF0ZV91bmljb2RlX2J1ZmZlcigyNjApCiAgICAgICAgICAgIGlmIG5vdCBrMzIuR2V0U3lzdGVtRGlyZWN0b3J5VyhjdHlwZXMuYnlyZWYoc3lzX2RpciksIDI2MCk6CiAgICAgICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRV9XSU5ET1dTCgogICAgICAgICAgICB2b2xfYnVmID0gY3R5cGVzLmNyZWF0ZV91bmljb2RlX2J1ZmZlcigyNjApCiAgICAgICAgICAgIGZzX2J1ZiA9IGN0eXBlcy5jcmVhdGVfdW5pY29kZV9idWZmZXIoMjYwKQogICAgICAgICAgICBzZXJpYWxfbnVtID0gd2ludHlwZXMuRFdPUkQoMCkKCiAgICAgICAgICAgIGlmIG5vdCBrMzIuR2V0Vm9sdW1lSW5mb3JtYXRpb25XKGN0eXBlcy5jX3djaGFyX3Aoc3lzX2Rpci52YWx1ZVs6M10pLAogICAgICAgICAgICAgICAgICAgIHZvbF9idWYsIGN0eXBlcy5zaXplb2Yodm9sX2J1ZiksIGN0eXBlcy5ieXJlZihzZXJpYWxfbnVtKSwgTm9uZSwKICAgICAgICAgICAgICAgICAgICBOb25lLCBmc19idWYsIGN0eXBlcy5zaXplb2YoZnNfYnVmKSk6CiAgICAgICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRV9XSU5ET1dTCiAgICAgICAgICAgIHNlcmlhbF9udW0gPSBzZXJpYWxfbnVtLnZhbHVlCiAgICAgICAgICAgIHNlcmlhbCA9ICIlMDR4IiAlICgoc2VyaWFsX251bSA+PiAxNikgJiAweGZmZmYpICsgJy0nICIlMDR4IiAlIChzZXJpYWxfbnVtICYgMHhmZmZmKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlcmlhbCA9IGdldF9oZGRfbGFiZWwoKQoKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9NQUNISU5FX0lELCAiJXM6JXMiICUgKHNlcmlhbCwgbWFjaGluZV9uYW1lKSkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfbmF0aXZlX2FyY2goc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1NUUklORywgZ2V0X25hdGl2ZV9hcmNoKCkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX3BhdGNoX3VybChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uoc2VsZi50cmFuc3BvcnQsIEh0dHBUcmFuc3BvcnQpOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICBuZXdfdXJpX3BhdGggPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19VUkwpWyd2YWx1ZSddCiAgICAgICAgaWYgbm90IHNlbGYudHJhbnNwb3J0LnBhdGNoX3VyaV9wYXRoKG5ld191cmlfcGF0aCk6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9uZWdvdGlhdGVfdGx2X2VuY3J5cHRpb24oc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGRlYnVnX3ByaW50KCdbKl0gTmVnb3RpYXRpbmcgVExWIGVuY3J5cHRpb24nKQogICAgICAgIHNlbGYudHJhbnNwb3J0LmFlc19rZXkgPSByYW5kX2J5dGVzKDMyKQogICAgICAgIHNlbGYudHJhbnNwb3J0LmFlc19lbmFibGVkID0gRmFsc2UKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9TWU1fS0VZX1RZUEUsIEVOQ19BRVMyNTYpCiAgICAgICAgZGVyID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfUlNBX1BVQl9LRVkpWyd2YWx1ZSddLnN0cmlwKCkKICAgICAgICBkZWJ1Z19wcmludCgnWypdIFJTQSBrZXk6ICcgKyBzdHIoYmluYXNjaWkuYjJhX2hleChkZXIpKSkKICAgICAgICBkZWJ1Z19wcmludCgnWypdIEFFUyBrZXk6ICcgKyBoZXgobWV0X3JzYS5iMmkoc2VsZi50cmFuc3BvcnQuYWVzX2tleSkpKQogICAgICAgIGVuY19rZXkgPSBtZXRfcnNhX2VuY3J5cHQoZGVyLCBzZWxmLnRyYW5zcG9ydC5hZXNfa2V5KQogICAgICAgIGRlYnVnX3ByaW50KCdbKl0gRW5jcnlwdGVkIEFFUyBrZXk6ICcgKyBoZXgobWV0X3JzYS5iMmkoZW5jX2tleSkpKQogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX0VOQ19TWU1fS0VZLCBlbmNfa2V5KQogICAgICAgIGRlYnVnX3ByaW50KCdbKl0gVExWIGVuY3J5cHRpb24gc29ydGVkJykKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfbG9hZGxpYihzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgZGF0YV90bHYgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9EQVRBKQogICAgICAgIGlmIChkYXRhX3RsdlsndHlwZSddICYgVExWX01FVEFfVFlQRV9DT01QUkVTU0VEKSA9PSBUTFZfTUVUQV9UWVBFX0NPTVBSRVNTRUQ6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQoKICAgICAgICBsaWJuYW1lID0gJz8/PycKICAgICAgICBtYXRjaCA9IHJlLnNlYXJjaChyJ15tZXRlcnByZXRlclwucmVnaXN0ZXJfZXh0ZW5zaW9uXChcJyhbYS16QS1aMC05XSspXCdcKSQnLCBzdHIoZGF0YV90bHZbJ3ZhbHVlJ10pLCByZS5NVUxUSUxJTkUpCiAgICAgICAgaWYgbWF0Y2ggaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGxpYm5hbWUgPSBtYXRjaC5ncm91cCgxKQoKICAgICAgICBzZWxmLmxhc3RfcmVnaXN0ZXJlZF9leHRlbnNpb24gPSBOb25lCiAgICAgICAgc3ltYm9sc19mb3JfZXh0ZW5zaW9ucyA9IHsnbWV0ZXJwcmV0ZXInOiBzZWxmfQogICAgICAgIHN5bWJvbHNfZm9yX2V4dGVuc2lvbnMudXBkYXRlKEVYUE9SVEVEX1NZTUJPTFMpCiAgICAgICAgaSA9IGNvZGUuSW50ZXJhY3RpdmVJbnRlcnByZXRlcihzeW1ib2xzX2Zvcl9leHRlbnNpb25zKQogICAgICAgIGkucnVuY29kZShjb21waWxlKGRhdGFfdGx2Wyd2YWx1ZSddLCAnZXh0X3NlcnZlcl8nICsgbGlibmFtZSArICcucHknLCAnZXhlYycpKQogICAgICAgIGV4dGVuc2lvbl9uYW1lID0gc2VsZi5sYXN0X3JlZ2lzdGVyZWRfZXh0ZW5zaW9uCgogICAgICAgIGlmIGV4dGVuc2lvbl9uYW1lOgogICAgICAgICAgICBjaGVja19leHRlbnNpb24gPSBsYW1iZGEgeDogeC5zdGFydHN3aXRoKGV4dGVuc2lvbl9uYW1lKQogICAgICAgICAgICBsaWJfbWV0aG9kcyA9IGxpc3QoZmlsdGVyKGNoZWNrX2V4dGVuc2lvbiwgbGlzdChzZWxmLmV4dGVuc2lvbl9mdW5jdGlvbnMua2V5cygpKSkpCiAgICAgICAgICAgIGZvciBtZXRob2QgaW4gbGliX21ldGhvZHM6CiAgICAgICAgICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9VSU5ULCBjbWRfc3RyaW5nX3RvX2lkKG1ldGhvZCkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX3NodXRkb3duKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9CT09MLCBUcnVlKQogICAgICAgIHNlbGYucnVubmluZyA9IEZhbHNlCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX3RyYW5zcG9ydF9hZGQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIG5ld190cmFuc3BvcnQgPSBUcmFuc3BvcnQuZnJvbV9yZXF1ZXN0KHJlcXVlc3QpCiAgICAgICAgc2VsZi50cmFuc3BvcnRfYWRkKG5ld190cmFuc3BvcnQpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX3RyYW5zcG9ydF9jaGFuZ2Uoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIG5ld190cmFuc3BvcnQgPSBUcmFuc3BvcnQuZnJvbV9yZXF1ZXN0KHJlcXVlc3QpCiAgICAgICAgc2VsZi50cmFuc3BvcnRfYWRkKG5ld190cmFuc3BvcnQpCiAgICAgICAgc2VsZi5zZW5kX3BhY2tldChyZXNwb25zZSArIHRsdl9wYWNrKFRMVl9UWVBFX1JFU1VMVCwgRVJST1JfU1VDQ0VTUykpCiAgICAgICAgc2VsZi50cmFuc3BvcnRfY2hhbmdlKG5ld190cmFuc3BvcnQpCiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgX2NvcmVfdHJhbnNwb3J0X2xpc3Qoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGlmIHNlbGYuc2Vzc2lvbl9leHBpcnlfdGltZSA+IDA6CiAgICAgICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1RSQU5TX1NFU1NJT05fRVhQLCBzZWxmLnNlc3Npb25fZXhwaXJ5X2VuZCAtIHRpbWUudGltZSgpKQogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1RSQU5TX0dST1VQLCBzZWxmLnRyYW5zcG9ydC50bHZfcGFja190cmFuc3BvcnRfZ3JvdXAoKSkKCiAgICAgICAgdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnRfbmV4dCgpCiAgICAgICAgd2hpbGUgdHJhbnNwb3J0ICE9IHNlbGYudHJhbnNwb3J0OgogICAgICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19HUk9VUCwgdHJhbnNwb3J0LnRsdl9wYWNrX3RyYW5zcG9ydF9ncm91cCgpKQogICAgICAgICAgICB0cmFuc3BvcnQgPSBzZWxmLnRyYW5zcG9ydF9uZXh0KHRyYW5zcG9ydCkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfdHJhbnNwb3J0X25leHQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIG5ld190cmFuc3BvcnQgPSBzZWxmLnRyYW5zcG9ydF9uZXh0KCkKICAgICAgICBpZiBuZXdfdHJhbnNwb3J0ID09IHNlbGYudHJhbnNwb3J0OgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICBzZWxmLnNlbmRfcGFja2V0KHJlc3BvbnNlICsgdGx2X3BhY2soVExWX1RZUEVfUkVTVUxULCBFUlJPUl9TVUNDRVNTKSkKICAgICAgICBzZWxmLnRyYW5zcG9ydF9jaGFuZ2UobmV3X3RyYW5zcG9ydCkKICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfcHJldihzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgbmV3X3RyYW5zcG9ydCA9IHNlbGYudHJhbnNwb3J0X3ByZXYoKQogICAgICAgIGlmIG5ld190cmFuc3BvcnQgPT0gc2VsZi50cmFuc3BvcnQ6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIHNlbGYuc2VuZF9wYWNrZXQocmVzcG9uc2UgKyB0bHZfcGFjayhUTFZfVFlQRV9SRVNVTFQsIEVSUk9SX1NVQ0NFU1MpKQogICAgICAgIHNlbGYudHJhbnNwb3J0X2NoYW5nZShuZXdfdHJhbnNwb3J0KQogICAgICAgIHJldHVybiBOb25lCgogICAgZGVmIF9jb3JlX3RyYW5zcG9ydF9yZW1vdmUoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHVybCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1VSTClbJ3ZhbHVlJ10KICAgICAgICBpZiBzZWxmLnRyYW5zcG9ydC51cmwgPT0gdXJsOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICB0cmFuc3BvcnRfZm91bmQgPSBGYWxzZQogICAgICAgIGZvciB0cmFuc3BvcnQgaW4gc2VsZi50cmFuc3BvcnRzOgogICAgICAgICAgICBpZiB0cmFuc3BvcnQudXJsID09IHVybDoKICAgICAgICAgICAgICAgIHRyYW5zcG9ydF9mb3VuZCA9IFRydWUKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgaWYgdHJhbnNwb3J0X2ZvdW5kOgogICAgICAgICAgICBzZWxmLnRyYW5zcG9ydHMucmVtb3ZlKHRyYW5zcG9ydCkKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCiAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX3RyYW5zcG9ydF9zZXRfdGltZW91dHMoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHRpbWVvdXRfdmFsdWUgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19TRVNTSU9OX0VYUCkuZ2V0KCd2YWx1ZScpCiAgICAgICAgaWYgbm90IHRpbWVvdXRfdmFsdWUgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi5zZXNzaW9uX2V4cGlyeV90aW1lID0gdGltZW91dF92YWx1ZQogICAgICAgICAgICBzZWxmLnNlc3Npb25fZXhwaXJ5X2VuZCA9IHRpbWUudGltZSgpICsgc2VsZi5zZXNzaW9uX2V4cGlyeV90aW1lCiAgICAgICAgdGltZW91dF92YWx1ZSA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX0NPTU1fVElNRU9VVCkuZ2V0KCd2YWx1ZScpCiAgICAgICAgaWYgdGltZW91dF92YWx1ZToKICAgICAgICAgICAgc2VsZi50cmFuc3BvcnQuY29tbXVuaWNhdGlvbl90aW1lb3V0ID0gdGltZW91dF92YWx1ZQogICAgICAgIHJldHJ5X3ZhbHVlID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfUkVUUllfVE9UQUwpLmdldCgndmFsdWUnKQogICAgICAgIGlmIHJldHJ5X3ZhbHVlOgogICAgICAgICAgICBzZWxmLnRyYW5zcG9ydC5yZXRyeV90b3RhbCA9IHJldHJ5X3ZhbHVlCiAgICAgICAgcmV0cnlfdmFsdWUgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19SRVRSWV9XQUlUKS5nZXQoJ3ZhbHVlJykKICAgICAgICBpZiByZXRyeV92YWx1ZToKICAgICAgICAgICAgc2VsZi50cmFuc3BvcnQucmV0cnlfd2FpdCA9IHJldHJ5X3ZhbHVlCgogICAgICAgIGlmIHNlbGYuc2Vzc2lvbl9leHBpcnlfdGltZSA+IDA6CiAgICAgICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1RSQU5TX1NFU1NJT05fRVhQLCBzZWxmLnNlc3Npb25fZXhwaXJ5X2VuZCAtIHRpbWUudGltZSgpKQogICAgICAgIHJlc3BvbnNlICs9IHNlbGYudHJhbnNwb3J0LnRsdl9wYWNrX3RpbWVvdXRzKCkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfdHJhbnNwb3J0X3NsZWVwKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBzZWNvbmRzID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfQ09NTV9USU1FT1VUKVsndmFsdWUnXQogICAgICAgIHNlbGYuc2VuZF9wYWNrZXQocmVzcG9uc2UgKyB0bHZfcGFjayhUTFZfVFlQRV9SRVNVTFQsIEVSUk9SX1NVQ0NFU1MpKQogICAgICAgIGlmIHNlY29uZHM6CiAgICAgICAgICAgIHNlbGYuX3RyYW5zcG9ydF9zbGVlcCA9IHNlY29uZHMKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfY2hhbm5lbF9vcGVuKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBjaGFubmVsX3R5cGUgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX1RZUEUpCiAgICAgICAgaGFuZGxlciA9ICdjaGFubmVsX29wZW5fJyArIGNoYW5uZWxfdHlwZVsndmFsdWUnXQogICAgICAgIGlmIGhhbmRsZXIgbm90IGluIHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9uczoKICAgICAgICAgICAgZGVidWdfcHJpbnQoJ1stXSBjb3JlX2NoYW5uZWxfb3BlbiBtaXNzaW5nIGhhbmRsZXI6ICcgKyBoYW5kbGVyKQogICAgICAgICAgICByZXR1cm4gZXJyb3JfcmVzdWx0KE5vdEltcGxlbWVudGVkRXJyb3IpLCByZXNwb25zZQogICAgICAgIGRlYnVnX3ByaW50KCdbKl0gY29yZV9jaGFubmVsX29wZW4gZGlzcGF0Y2hpbmcgdG8gaGFuZGxlcjogJyArIGhhbmRsZXIpCiAgICAgICAgaGFuZGxlciA9IHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9uc1toYW5kbGVyXQogICAgICAgIHJldHVybiBoYW5kbGVyKHJlcXVlc3QsIHJlc3BvbnNlKQoKICAgIGRlZiBfY29yZV9jaGFubmVsX2Nsb3NlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBjaGFubmVsX2lkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ0hBTk5FTF9JRClbJ3ZhbHVlJ10KICAgICAgICBpZiBub3Qgc2VsZi5jbG9zZV9jaGFubmVsKGNoYW5uZWxfaWQpOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfY2hhbm5lbF9lb2Yoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGNoYW5uZWxfaWQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX0lEKVsndmFsdWUnXQogICAgICAgIGlmIGNoYW5uZWxfaWQgbm90IGluIHNlbGYuY2hhbm5lbHM6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIGNoYW5uZWwgPSBzZWxmLmNoYW5uZWxzW2NoYW5uZWxfaWRdCiAgICAgICAgc3RhdHVzLCByZXNwb25zZSA9IGNoYW5uZWwuY29yZV9lb2YocmVxdWVzdCwgcmVzcG9uc2UpCiAgICAgICAgcmV0dXJuIHN0YXR1cywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfY2hhbm5lbF9pbnRlcmFjdChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF9pZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfSUQpWyd2YWx1ZSddCiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICB0b2dnbGUgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9CT09MKVsndmFsdWUnXQogICAgICAgIGlmIHRvZ2dsZToKICAgICAgICAgICAgaWYgY2hhbm5lbF9pZCBpbiBzZWxmLmludGVyYWN0X2NoYW5uZWxzOgogICAgICAgICAgICAgICAgc2VsZi5pbnRlcmFjdF9jaGFubmVscy5yZW1vdmUoY2hhbm5lbF9pZCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHMuYXBwZW5kKGNoYW5uZWxfaWQpCiAgICAgICAgZWxpZiBjaGFubmVsX2lkIGluIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHM6CiAgICAgICAgICAgIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHMucmVtb3ZlKGNoYW5uZWxfaWQpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2NoYW5uZWxfcmVhZChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF9pZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfSUQpWyd2YWx1ZSddCiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICBzdGF0dXMsIHJlc3BvbnNlID0gY2hhbm5lbC5jb3JlX3JlYWQocmVxdWVzdCwgcmVzcG9uc2UpCiAgICAgICAgaWYgbm90IGNoYW5uZWwuaXNfYWxpdmUoKToKICAgICAgICAgICAgc2VsZi5oYW5kbGVfZGVhZF9yZXNvdXJjZV9jaGFubmVsKGNoYW5uZWxfaWQpCiAgICAgICAgcmV0dXJuIHN0YXR1cywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfY2hhbm5lbF93cml0ZShzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF9pZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfSUQpWyd2YWx1ZSddCiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICBzdGF0dXMgPSBFUlJPUl9GQUlMVVJFCiAgICAgICAgaWYgY2hhbm5lbC5pc19hbGl2ZSgpOgogICAgICAgICAgICBzdGF0dXMsIHJlc3BvbnNlID0gY2hhbm5lbC5jb3JlX3dyaXRlKHJlcXVlc3QsIHJlc3BvbnNlKQogICAgICAgICMgZXZhbHVhdGUgY2hhbm5lbC5pc19hbGl2ZSgpIHR3aWNlIGJlY2F1c2UgaXQgY291bGQgaGF2ZSBjaGFuZ2VkCiAgICAgICAgaWYgbm90IGNoYW5uZWwuaXNfYWxpdmUoKToKICAgICAgICAgICAgc2VsZi5oYW5kbGVfZGVhZF9yZXNvdXJjZV9jaGFubmVsKGNoYW5uZWxfaWQpCiAgICAgICAgcmV0dXJuIHN0YXR1cywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfY2hhbm5lbF9zZWVrKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBjaGFubmVsX2lkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ0hBTk5FTF9JRClbJ3ZhbHVlJ10KICAgICAgICBpZiBjaGFubmVsX2lkIG5vdCBpbiBzZWxmLmNoYW5uZWxzOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgIHJldHVybiBjaGFubmVsLmNvcmVfc2VlayhyZXF1ZXN0LCByZXNwb25zZSkKCiAgICBkZWYgX2NvcmVfY2hhbm5lbF90ZWxsKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBjaGFubmVsX2lkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ0hBTk5FTF9JRClbJ3ZhbHVlJ10KICAgICAgICBpZiBjaGFubmVsX2lkIG5vdCBpbiBzZWxmLmNoYW5uZWxzOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgIHJldHVybiBjaGFubmVsLmNvcmVfdGVsbChyZXF1ZXN0LCByZXNwb25zZSkKCiAgICBkZWYgY3JlYXRlX3Jlc3BvbnNlKHNlbGYsIHJlcXVlc3QpOgogICAgICAgIHJlc3BvbnNlID0gc3RydWN0LnBhY2soJz5JJywgUEFDS0VUX1RZUEVfUkVTUE9OU0UpCiAgICAgICAgY29tbWRfaWRfdGx2ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ09NTUFORF9JRCkKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhjb21tZF9pZF90bHYpCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVVVJRCwgYmluYXNjaWkuYTJiX2hleChieXRlcyhQQVlMT0FEX1VVSUQsICdVVEYtOCcpKSkKCiAgICAgICAgaGFuZGxlcl9uYW1lID0gY21kX2lkX3RvX3N0cmluZyhjb21tZF9pZF90bHZbJ3ZhbHVlJ10pCiAgICAgICAgaWYgaGFuZGxlcl9uYW1lIGluIHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9uczoKICAgICAgICAgICAgaGFuZGxlciA9IHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9uc1toYW5kbGVyX25hbWVdCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGRlYnVnX3ByaW50KCdbKl0gcnVubmluZyBtZXRob2QgJyArIGhhbmRsZXJfbmFtZSkKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIocmVxdWVzdCwgcmVzcG9uc2UpCiAgICAgICAgICAgICAgICBpZiByZXN1bHQgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICBkZWJ1Z19wcmludCgiWy1dIGhhbmRsZXIgcmVzdWx0IGlzIG5vbmUiKQogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgcmVzdWx0LCByZXNwb25zZSA9IHJlc3VsdAogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAgICAgZGVidWdfdHJhY2ViYWNrKCdbLV0gbWV0aG9kICcgKyBoYW5kbGVyX25hbWUgKyAnIHJlc3VsdGVkIGluIGFuIGVycm9yJykKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGVycm9yX3Jlc3VsdCgpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiByZXN1bHQgIT0gRVJST1JfU1VDQ0VTUzoKICAgICAgICAgICAgICAgICAgICBkZWJ1Z19wcmludCgnWy1dIG1ldGhvZCAnICsgaGFuZGxlcl9uYW1lICsgJyByZXN1bHRlZCBpbiBlcnJvcjogIycgKyBzdHIocmVzdWx0KSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBoYW5kbGVyX25hbWUgaXMgTm9uZToKICAgICAgICAgICAgICAgIGRlYnVnX3ByaW50KCdbLV0gY29tbWFuZCBpZCAnICsgc3RyKGNvbW1kX2lkX3RsdlsndmFsdWUnXSkgKyAnIHdhcyByZXF1ZXN0ZWQgYnV0IGRvZXMgbm90IGV4aXN0JykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGRlYnVnX3ByaW50KCdbLV0gbWV0aG9kICcgKyBoYW5kbGVyX25hbWUgKyAnIHdhcyByZXF1ZXN0ZWQgYnV0IGRvZXMgbm90IGV4aXN0JykKICAgICAgICAgICAgcmVzdWx0ID0gZXJyb3JfcmVzdWx0KE5vdEltcGxlbWVudGVkRXJyb3IpCgogICAgICAgIHJlcWlkX3RsdiA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1JFUVVFU1RfSUQpCiAgICAgICAgaWYgbm90IHJlcWlkX3RsdjoKICAgICAgICAgICAgZGVidWdfcHJpbnQoIlstXSBubyByZXF1ZXN0IElEIGZvdW5kIikKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2socmVxaWRfdGx2KQogICAgICAgIGRlYnVnX3ByaW50KCJbKl0gc2VuZGluZyByZXNwb25zZSBwYWNrZXQiKQogICAgICAgIHJldHVybiByZXNwb25zZSArIHRsdl9wYWNrKFRMVl9UWVBFX1JFU1VMVCwgcmVzdWx0KQoKCmltcG9ydCBjb2RlY3MsaW1wLGJhc2U2NCx6bGliCm1ldF9hZXMgPSBpbXAubmV3X21vZHVsZSgnbWV0X2FlcycpCm1ldF9yc2EgPSBpbXAubmV3X21vZHVsZSgnbWV0X3JzYScpCmV4ZWMoY29tcGlsZSh6bGliLmRlY29tcHJlc3MoYmFzZTY0LmI2NGRlY29kZShjb2RlY3MuZ2V0ZW5jb2RlcigndXRmLTgnKSgnZU5yRjNGdHpKY2VWM2ZGbjhsTkFFekVtSUI1U2RiK1FoQ0pzeGp3NCtDaU5YeEROanJxS0lGdG9CSEJJZGN2ajcrNjkvd3ZvV2swMnFkRFlEbmNISlRSd0xsVlpXWm0vbldjbFByNzk2LzNyaC9QRjh2cis3ZW54L1BEamNqNDl2bjM4ZU4zMmkrVzdIKzkrZUx4ODlYZytYZHhkZmZIeFIvdnJoNHZiaTl1N2k0ZnA3aS9iWlhGNnRkM2xqNjlPL1BpanQ3ZmJxL1Vpdm5Geis4WHRwM2N2ZUpXWHk5OHUvL2I2WWMxSFBHem5IeC91K09kTjhlS3JyNnJtNmovMHJ6TCtWWGJQLzZyaVg4UFZmL0IxL2ZReWo5VjhlZDdlbkkvWHVYaDErM2krak1kY0xsZDVhRXNlR2cvUk0rYnE4WEsrdlpzZTN0cHovdVZmUHYvKzllM2Q1ZkxkdytYTTArWjgydFBqbm83NDlkMHluVi95OHROcHRtZFBuODRmMys0WDBVS2YvN1E5UE42K3ZudDVlN2UvanBQNTQzVWREM3REeTF6enZ4OS85SXZqL2lpZWUvdDRlL2Q0bnU2V2pXK2Y1cmZuN1pFZlByOUpmdnZqNTMvZGZPRDhYank5OVBzbitQeDBYdkQ1KzArUC9NQVoyU25wQ1ZjZmI2OGV0L2dKLzc1K05mMTFYcWVMeDlQMnhlUEgyMS92ejIrdjFUOCt2NStXSHk0LytlVHE0K1hWOVBoNDhWLy83VTlmLzdldkwxL1AzMjhMWjNuMzhIajlQOHZ1aTdJNFZjMFhaWFdxcXkvSzVuOUZJOFpoWE4rVXArclVuSVpUMmNVUFRsMXpLcXZoVlBXbk5yNHE0cXY0ZnRtWHA3NC9sZkd0cGorTjhZTmhPSTNqcVJ6amFXMTVhdXQ0YUJjUHJlS2g4ZTJxUFZWdHZGdWRENG5uTlcwMDBaK3ViL0lwVlR5N3pQK3Y0MmppOFVYOHZDeDVYQk92RnQrb1QwMzhMTjZyS2x2ZXVpempNSXA0YkIydldaVHZYbjhZVC9IVHFpbmlVYlhldmNzamlHZTFjZEI1S21YOE44YjNobnpGT01vNC9IcklVK3Z5N2Z0NHVlYlU1dlBpRmFzeHZwWHZWblBTVGZ5elBPWHp4MU1kTHpuR1ErSmY4YjR0TFJISFBhaXRxamoxZUVTZWJSL2ZLcU9KNGxqanVYRUtYVFpsR1UwL3hsRjJjY3pWcWMwWGJtaXBlTHNxZmg0SFVrYmI1MEVXNHlrYnJzOXJVZVdSUmJ1UHBabzNXcWFNbDJuN1V4OXYzNTJHYkpZOGgwRk4zY2N6NDJwMGZWNnMrS0tzNjFPWEp4WC94WkgycDZFNHhTR1VjUUJsTjV5R2VFUTBRelpUazAwVFRSWXZIUzFYTlMxWHVJeURyZUlrNDJXaVBhbzJHeURiSnE5Q1BDSmVNMTY0N2s1alN5L284akRpZTluMGNVSng2bDBlZUp4Nk5uNDBRbnZLbjBVeng1bFhWWEdxb3p2RmkwUXpsZkVxZWZSMXZtbTBXbnhaVlhTMGFLQjhsMmo1YlBqNGNYR0theDFkTmQ0MkR5QjdTYnhMSDQ4ZXNxUEZmL253dkRMeDFMZ0lWUnhBSEhrWkRWdG1jOGZWellzVTdaSzllOGl6amRlb3M3Tm56OG9XNTI0WThsRGpHT1BxeEdQeUdmR05hTURzODFWZW5DcTdTaHhJM0JyWlhIbko4Ny9zQUhFYlpaL0xzNjlPY1dqWjErTFp6U2s2ZWZUQ0lidE9QQ2ZmTk5zbW50Wm1OOHIyelJzcWp5R2VHdi9NLzZlSjh0dlJ3K0x0bzZOVmRYYVV1UDd0cWNtV3lvdVh2U3V2ZVBha2VOVTg5N2pZOGFiUndidThQbkZYNWYvRlM4Y1Q4dzZPamxQbGJYbDdmUlBYZVh5NmcrdThDL1BXanlmbFRSU3ZsQjBrK2trZVk4azlVbk5uWmxmTHV6azdjTnR6YytZeDVrMlY3UjNIbVNjU1J4K2RJYnBHOW91OHFEcjRtbVBneUllOHNyUnVYTXg0VmxmU0QvcU9TeGtYdCt1NDIvTUdqQ3MzNVBYZ1hLTnQ4L1NqamVydTZjNGJ1RmVpOGZ0YVZ6d3VTZDVTMlN6Ui9ObThYSW1pVU9zWERjMmRoOFhvMFdTbnlqRmhyTlVmaGtvM1JxSExHdGR5S0JoSjhoYk5pNWozQjUwdysyOWUyT3o2T1lxMHVxZXpkejhQb1lXdVU5NjIyV2NMalVEUnQrSTdMUjAveDRUb21SMzNkRHd6MnpTYk8wNlZLNUQzY1I3YVU0K3JjN3g4Nm5ReEVMUlBkMENmVnp6SDRXam12TS9vM1czSmVLc0JvOU9vbWVlU2I1SGRJbHM0VG84dTNYRG41S0NhWTJaZXNCekg0bXJrRUpCOVg2TWNQUzl2eUpLQk14N0QyTW13eHJoZlA0M3RNYkJ4ZDJxSWFoakZxcDd4TFc2enZGeXQ3cXQ0c2J4dnM5MFkvMGRHNzV3TDhsN01VU2VmbVExVDZnYU1qc1ZBMStWd0hBTjE5cGhlSTNPWDgwUGVramxFYTVTS0xwZzNaWTdJT1M2MjNLTjlEajk1YytRRXdBQ1E0eU56UThsRXd0amFGUnFFUmliQ25wR0xjYkx2R0dKeUFzaDdLc2ZYT0xpaDVwYUxScWlZemhyR1F3YVZVc04vclR1ZTI3ekl5VFE2VXc2ME9WTG5kUG5uOHZxbWVMTjBYZDNWVTNzcTN1eER2L1JMZEpMaXpiYjE4U2VlRTkvdCtybWZoelcvM1BkcXI0cjhjdTI2dVp0bnZ0eTZ2ZHZuNkgxdnhuSnBsN2JOVitpS092N0dOUy9leEdrVzJWUGl6YmF1Ny9vcFg3YnRxcm1hKzN5QnJkKzNmU3Z6dTNPNzltc2YxNnQ0MDZ6VFBNMWJsdzlZNGxuZE9NV1h3NzVNeTlUazRaYjdVQTNWbUs4d2pFdjhiZkxOOWlsZVlJMTJpcWZ0KzdSUFpUNTJydHF4SGJjNUg3czFmZE12bk5xOEYzdFI1SGViY2xxbmRWdnlzZlhhckUyWHI5RHVVelZWZTc1RjA4WnI3VnNlUTF5dWVMdDV6d2ZVVXpNMU8rL1c5RlZmalhtODQ3d1VTOUhtNi9adE5GNi81QWx0NWI3dWE1bHZVYTlqUGRiVGxxKzdWRjNWZGZtNjNSSlhvbXZ6eTM2cjkzcHZzazMzZHUvM3ZzaFhHT29sL2pUNXh0MVFOM1hUNW91MTVkUk83WjZOdnBaYnU3VjFmcm1QZTdubnFCSnZYUFV4T0l4NUFhWjVIYUp4OHNzdTdzQTZ1MUNjVURSU2ZKV3ZPeFJOL00yWEhkdm9ESDNMcFlqSFJnZlBoaHpYcFY3cU5vKzhMcUp6eHlYSUwvdXhHN3NwRDNlS2E5NFcrVkxWUGs3ak5PZXp0cUtQdjlua2NSdkhRRmhuSzVYelVBekZtSzIwN2x1MVZYVzI4N0p1OHpaWCtZQW1EcnlLNjU3dHNVZG5xUlo2eTlTM2ZUdm1POFF0T3haam1hOVFya005MUdNZVZ6dFVTN1gwMlFoMVhOWnlxamphcnB6THVhTERMdDNXeFh2a3RZN0wyazRiVDV1bllpcjJmTEhvWHpGeTdIa01mVmZQOWR6azA2S3pkdEh0OHlUN05iNVpMend0YnVwcTdEbUxkYXUzdXVhN1c5d29lNDdJYjJMc2JJWm16QzR5ZFcwZHpVeUhITmR5emNFbCsreFNidXUyVnRucVRSRkRjZEhsZDZNTExQdFM1b24yWXh4N3VXUlR6MTA3dC9QR2VUVGQxTVV0a3BkdFhlWmxidktJNDNhTkZseHB0ZWlwOWRqa3NZMU45TlBvNFBubDBDek5zbWI3ekVVN3RNT1dyenUwOFdaN2s1MHZidXRpTGJwODJ0TEduYmxYK2QxbW4rTFB4dVZjNDg2WnkzeTNvWXR1V0M5MGpTbHVtM1hORTQweEpmNjAzS1V4aHczdG1PODJSTHRHbDgwVDJzYm9uMk5aSEdlY1hUWUdnbjRmckJmbHovdm85ZlhTNUF2RVRSeFBtem1hZVJxbVlhTlBoeFBhY3M4djIzV3FwM3Jmam81YzBDSDIrSnZQcXZlNFZ0V1VqUmREL3pxdWM3WjVYMFRYaVl1VWgxREc3ZFlXREdCMXRPaXkwdng5akhYZHdvSHRNVXhFRDh4RGlQbWhTcmU4RytHNGFtMk1rbnVaN3hhM2U5ekZSUjdOdksvVlduV01WZVd5UnV2bkc4ZjBHQU5GeWFsMWNUTkdrMldiMTl1eUxWVys4Unl2MXNiUW1JZmVqdjNZVHd3RFF4Ti9sbnlGYW9zN3U2L3pZby9SU0V2VE1teTFVei8xZXo1MlgvcXQzNGI4c3AvcU5ZYTJmTUFTbDYxckprYTdxVjNiZGN2djF0RW1NUnZtZFk5eHVvNlg1WENpTjNaeForVHhqbkhENXpRYTc3WTFleE9qV1RaSkhlZXo5SG04VGJSSnpPUjVNZHNtUnM2cDU5YWI0eTR0cG56ZGVjZy8yV1RERWtmUUxkbE9jWWp4cDhxVGlDbGxpTG1HTmgxQ09kRzE4aDM2dUQyMm5na2llbVFiRDg2ajZZcTVtTXRzMDJsZDUzWHU4MzNYZVN1Mm9zNDNpNjRaNDFiTGJkeEV2NWlhUEpvUVV0em9KWGRDaUtPSlRuQ2NaWjdERUlxSkkrTm9ZelpidHJ3KzR4NWpTdFV5RHF6UmpIWEg0RjNIWkxSc2VlcHhPakdRVC9sbTlSak5XRTRNakdIS3NaMFltK3V0MlpvNkczcXY0bEtPQTJOR0c1ZW5yN21zOHpMRTdNdll2RVhyeHlDWEQ1aGkwSWx6bzd2azRNMkJsWEhOMm80RFcrSlZZL0RJbzhueGR0enlTcTFEdDNReElHVGJMRzNYZGpzZE1xYVV2U25vQVRHVmJYSG41SmN4TE1Xc2t5ZXhOOUZ2NHJiS0Yrdmo1OXVXaHhDWWpaRzZ6UE9KZVQ1bTVSVXRGUDNReDhYTXg4WUxSVHN6SVM0eGtHOTlIazRkUGIxY3FqeUd0bytCcXRzWk9tTTBuWnNsajJIczR4aTdOcis3ekZzTVF4VzNjN25Hbno1UGN4dGlwbTVHWnN5WVBjdTlBaGxkdkVCY2hEeWNNaTc3dWk2Y2NmWWNocEVoaHdhYmRoaEY0cTZLQzhCOVVNWUEyaTU1WEV2b0orYmViSnV4aUZFNm12ZWdTNzVVSDdMcENvYnhKYnJWVnVZTHhJd2Q1Y0hFaFpwaVFHL2JQUE1ZR21OaTJ1bkY0eHgvVjI2WmZ1aUdidVM0eDJpT3JISGliT0lreTdYS1JvaXVzQVZNdU5UalZtNUo3VGp5T1llc2t2dGdIb2ZvSzN3WnFpOVR5L0hZS2liY2NXYTJ5b0ZzN0RWV1pqUG1hOVV4N28vTnhEdXNlVGd6UFRObW1uS3J1SHZhdUhyOXlQbmtFWXhWdmtBSU1BYWZKbDlobXRyNHMzTlJpNEJXUER5LzI0Wmg5cDdCZE1qK3lzL0htR1dEWTB3dStaY3puMklTV1V1bWd6YW1peGc0ODdqN21IcTdPdHNqUnJHNDB4WnUyaUlhS1M1ZmZqZUUwSlFMcHp2bW41a2hmSXJoYysyNUM3YVlGL2FTdmpUSEFGQXNOTUlRVTB1elowK0l1eVgrclBtNjFSSVhLblNiMnExU3UxTXI3L0wyOGk1WFJ0NWxJcFYzUVFuYzFSMFBkM1hud1YxR09IR1hCbEtmUVVWTUJsd1hjUmN2aUx1TW9lSXVBaE4zR1cvRlhhWlJjUmR6aXJ1NFM5eGx3aFIzdVZ6aUx0ZFQzS1h6aUx0Y1duR1hLUWp0d21scFYxaEF1OHhXMGk3RWtuWjVsclRMelNEdGNndEt1N0JKMnVXK2tIYTVXNlJkN2d0cGw3dEYydVdDU3J2UVc5cUZqR0FYYlFpN0RDbkNMdU9Uc0F2dGhGMXFBcXpMSENqck1zN0l1aUJkMWdVQXNpNGpQa1NBY0xJdVBWWFdoWEN5TGxPUnJNdm9KT3N5QUtJVXFoWlpsMkdFUVFkd3lyclVBN0l1OHBkMW1mSmxYUVlNV1JmL3lyck1PYkl1VnBaMW1YbGxYV1kxV1JjSXlMcmM3N0l1Wlkrc1MwVW42MUwyeUxvVWQ3SXU5WmFzcTJFVjYxS3h5YnJjYmJJdW83R3N5MmdxNnpLZXk3b1VMYkl1bFlxc2kzU3JSZFpsbEpYOHFPUmtYV1FpNjZKTVdSY0h5YnJVSXJJdTQ2V3NDd2RsWGNwUldSY2d5N3BNSmJJdXM1V3NLMjVnWFdvZ1dSZkN5Ym9ZUTlhRndySXVnNWlzQzdWa1hZZ3Q2eks3eXJwTW5yTHVjY1lZVU5ZOWVoRVNibVJkVkNiclVnYkl1c3pmc2k1V2xuV1Bqc3p3SGErVjJJVkV3aTVtRW5iQmpiRExIWVoxR2Voa1hTb1JXWmZLVmRhRndyTHVNYnhwZ0pkMXFiU2hyZ1pmcUV0bEsrcGlMbEVYeDRxNjNPMmlMcld4cUF2blJWMm1aMUVYVTRtNllFTFVCVktpTHZPR3FBdGRSRjN3SStxeXlpRHFNcVdLdWxTNW9pNDFoeERJTENicVVsS0x1aFNob2k0RmpxaExxUzdxVWwyTHVwVHFCZGJGVjdJdU01cXNDd2RsWFdabFdaZENUOWFsYXBkMUtXNWxYZXBSV1JkV3k3b3Nwc2k2Rk0yeUxqT2xySXVLWmQzak5GbHZrSFZadkpCMXFhRmtYUmdxNjNLRlpWMnFXRm1YV1ZmV3BXYVdkVmtOa0hVeHJheExkU0hyd21aWkZ6ckl1cXF2c1M3RlFRRjJRYnl3aTNtRVhXUW43RkxDQzd1cy9RaTdYQ3VzUzlFbzYxSzh5YnFzQXNtNjFLS3lMc0tXZFlHNXJFdTlKZXZpWDFtWDRscldaVkZEMXFXQWxIVXBhMlJkbG1oa1hSYVBaRjFNS3V1aWVGbVh3bFRXWlVGQjF0V2FCZGFsNUM3QUxrVjdnWGFQaVlkeHBKSjJxVXFrWFR3bjdXSmxhZmVRQzRNdzJHVlpSZGlsdGhOMldRc1RkbGxiRW5ZbE43REw0cCt3UzhVdDdPSmJZWmMxRDJFWE93cTdySThJdTZ5OENidjRWZGpWY2dUWXBWSVhkbG55SzlBdTVhRzB5K3FJdEF1V3BWM3FQR21YU2wzYXBWeVNkbG5ZbEhZaHRMUkx3U3p0UW93QzdsSmVpTHVzTVJSNEYrZkx1NnJZOEM3bG43eWJWNktUZHlrcjVWMXFmWG1YdFJoNWwvVUdlWmZsRTNtWEdrbmVwYXFYZDdVUWkzZXBLdVRkMUc2ZDJzMTEzZlF1ZlUzZTVkWGxYYVowZVplaHRBQzhtaFVCcitvOXdNdjhKL0F5Q2FqYk1MMHhJMEJKZ1pmeFZlQmxuaEo0bVRVRlhnWktnWmNCVGVCbG9CUjRHYzBGWGdncjhNSm9nWmRiWGVCbENCRjRHZmtGWHViVkF2RXlGVXE4V2pKRHZNd3pFaS9qZ3NUTGpTanhNcUpKdk56ckVpK3pyY1RMZ0NYeGdtZUpGNE5LdkFoUDRrV0RFaThHbFhnaGRRRjVtZXRFWG1ncjhsSnVpYnlvUk9SbGtDa3dML3lTZWJtclpWNzZuY3hMWFNEelVqaEFCWVltbVpmeFNPYWxNOHE4RElReUw5YVhlUmtzMEFwRmlzekxQY25RdzdnaDgzSm55THpNWXpJdmhZbk15N0FnODRKVW1SZHp5THlNSnBDWHFWVGtoWThpTC9vUWVjR3h5S3NaQy9KU1lZaThUSGtpTDlZWGVaay9SVjdkUkpDWE1VamtaYllXZVVHWXlJdGFSRjVLU0pHWEdrUGtSUXdpTCtETlpkMGtMME9QQU1qOUsvSlNVSXE4bEZJaUw1V1N5TXR0TC9LS3daQVhENG04ZUZia2hWd2lMME93eUl0R1JWNE4xNUNYR1Yza1pXb1FlYWtOUkY1bWFaR1gya0RrWldBV2VabDlSRjRxVlpHWHlVSGtQYzZZNlZqa1BUb1J4ZEFpOGxMcmlMeWdRdVJsM2hSNW1ZbEUzcU1mdzZ4ZDVHV1FGM2twbGtWZUpocVJsNXFrd0x5SVdPWmx4cEI1R2JobFhpWmhtZmNZNGJoc3U4d0x4UXZRcTZVWTBFdnhKdlFpYWN6TEJDZnpVbm5MdkV5bk1pOTFrOHhMQ1NEek1xUEl2TXppTWk5em5jd0xQR1ZlcWtxWkZ5L0p2RWhPNW1YVlFlYWxNSlo1S1VpRVFTb1NtWmZDUU9aRkhUSXYwNm5NUzZrazg2SU9tUmNseWJ6VWFESXZaYWZNcTJrUDgxSVB5THlVYXpJdkZiZk1xMldXSkM5eUZYbEJuOGdMSmtWZVpqMlJsK0ljOFRLM1M3ekhTY0kwaVpjMUJZbVhWUXVKVnlaSHZCUU9FaS9MTkJJdmc1TEVTK0VnOFlKbmlSZS9TN3pVR3hJdlJhM0VpNDBsWHBWS2lKZFZKNGxYN2tTOFVGN2laUzFKNGtYdEVpL3NsM2haR1NrZ0w2czNJaS9MR1NJdm1CRjVXWkVSZWJuc2lKZUtVK0tGUUJJdmVKWjRXV0dRZUZuZGtYZ3BCaVJlSUM3eGdoMkpsOEpiNG9XekVpOHJGeEl2N3BSNHFlSWxYaTI1SVY1cUNJbVgrbGJpUGFZZE9zTW04YklTSS9GU29rbThWTDBTNzBFWGxqNEt5RXYxaVhoWitaQjRLVlFsWGlwT2lWZWYyeUZlSEM3eGNyTkx2TlJxRWk4ck5SSXY3eUR4NGtlSmx6SlQ0c1Y1RXE5V2p4RXZLeHdTTHdXTHhNdENnOFRMeXBMRVM3VW44YklzS1BGUzNFaThMT1ZJdkt4YVNMeXNiVW04ckFOSXZCUmdFaTgzbGNTTHVTVmVKam5BcTQrMkFDK3JtQUl2TllqQXF3VWd3TXRTbjhETG1xdkF5NEtWd0l0czhDNGNsbmRaYUpWM1ZRdmdYWlptNU4zVWJpUHR5cnRvVjk1RnUvSXUycFYzMGE2OGkzYmxYYlFyNzZKZGVaY3VvMDdEWE1Cc2dIYmxYYlFyNzZKZGVSZnR5cnRvVjk1RnUvSXUycFYzMGE2OGkzYmxYYlFyNzZKZGVSZnR5cnRvVjk1RnUvSXUycFYzMGE2OGkzYmxYYlFyNzZKZGVSZnR5cnRvVjk1RnUvSXUycFYzOWNFbTNrVzc4aTdhbFhmUnJyeUxkdVZkZlpxQ2Q5R3V2SXQyNVYyMEsrK2lYWGxYbjhuaVhiUXI3NkpkZVJmdHlydG9WOTVGQ1RnQjdjcTdhRmZlUmJ2eXJzcCt2SXQyNVYyZ0FsWFFycnpMc01QQW95b1o3NkpkZVJmdHlydG9WOTVGdS9JdTJwVjMwYTY4eXp5S2Q5R3V2SXQyNVYyMEsrOXFLUmp2b2wxNUYrM0t1MmhYM2tXNzhpN2FsWGZScnJ5TGR1VmR0Q3Z2b2wxNUYrM0t1MmhYM2tXNzhpNERnYno3cEYxNUYvdEpmMmhYM21WZWwzZlJycnlMZHVWZHRDdnZvbDE1RiszS3UyaFgza1c3OGk3YWxYZlJycnlMZHVWZHRDdnZvbDE1VndFZ3ZJdDI1VjIwSysraVhYa1g3Y3E3YUZmZVZjd0c3eDVuakhibDNhTVRTYnZ5THRxVmQ5R3V2SXQyNVYyMEsrOGUvZmhKdTNnWDdjcTdhRmZlUmJ2eXJtSkRlQmZ0eXJ0b1Y5NUZ1L0l1MnBWM2p4Rk8ycFYzOWNFeDNrVzc4aTdhbFhjMVRxUjMwYTY4aTNibFhiUXI3NkpkZVJmdHlydGFQOEc3YUZmZVJidnlMdHFWZDlHdXZJdDI1VjIwSysraVhYa1g3Y3E3UUZBVWZHSlBlaGZ0eXJ0b1Y5NUZ1L0l1MnBWM2RaZmlYV2tYNzZKZGVSZnR5cnRvVjk3VjZqZmVSYnZ5THRxVmQ1bnI4QzdhbFhmUnJyeUxkdVZkdEN2djZqNVA3NkpkZWZjNFNiUXI3NkpkZVJmdHlydG9WOTVGdS9JdTJwVjMwYTY4aTNibFhiUXI3NkpkZVJmdHlydG9WOTVGdS9JdTJwVjNwVjI4aTNibFhiUXI3NkpkZVJmdHlydG9WOTVGdS9JdTJwVjMwYTY4aTNibFhiUXI3MnFjVHUraVhYa1g3Y3E3YUZmZVJidnlMdHFWZDlHdXZJdDI1VjIwSysraVhYa1g3Y3E3YUZmZVJidnlMdHFWZDlHdXZDdnQ0bDFwRis4ZTA0NjBLKytpWFhrWDdjcTdhRmZlUGVpQ2R1VmRkYXowTHRxVmQ5R3V2SXQyNVYyMEsrK2lYWGtYN2NxNyttUUM3NkpkZVJmdHlydG9WOTU5aWdha2Q3V3FpWGZScnJ5TGR1VmRhUmZ2b2wxNUYrM0t1L3BzQSsraVhYa1g3Y3E3YUZmZVJidnlMdHFWZDlHdXZDdnQ0bDIwSys5S3UzaFhFMGw2OStsVDlGVVZsWUlNckdjcXlNQkNrSUlNckxBb3lNQWlwb0lNbGJRcjcwcHQ2VjJOQUhnWDdjcTdhRmZlUmJ2eWJtcTNUZTNHVkJITndwbjBXMU4yTFhTTG8rK0RZTFZXZy92d0RTdU8wZDA3ZldaYTd1UGF0RXdMMDdKUDdZQ2dtbm1McnFJMXkrZ3l1MHFES2JqUXljdkRzQ3k5WWl3eHJWVE53dHpWNUJUVjYzUGJObWJYbWNhb3VycHRHaWFzdVkzQnBNYTQ2emFYTVlUUUF1MDhsVE1UZTlOdVU4eWVHci8zTFlvd1pwTTYwTkUrZlZMYUxIc2hHUVZtWStwZ2tKcHpxUWZxeDZ2SDFNTHlZeHVUNGdMejVyMWJvOENsMTdWeFU0L0tuc1JwRGpYZEo0cWpwaW9aeEpvWWFqcDlyRDFzNFdHdHZ2UlI2ZzRqOThQZURERm1hOTRlMjZIZU9pMWd6b0doVlZDSllYaWZsUWtZaGttaGx5VjY0cVQ2czErWExhaXFWT0VhMTQyWmNtdmo1aXZWUGZvMjdnZEtqSzVxNjM1SDUwR1RtT2E0NmFQYno5T21qOWEzSVNvdmZkZzBGa1BVanh4dmxMZWRQdDhlNHRrNXBYSHZyRnUzNkNhSUE5NkhXYXZ2ZlF6OWxhamZSTGZVNG13ZEhYOXZGZDlzMjJsRzBYTVZ3aHk0RWF0QTVWSnhsd3pkMHNiNTA2aDEzUmVESWhsUlJnNktIVmIxSEoySUtpV2UwZWx6dEMybHFERjFpTTRYb3lyMVN0Um5jOFBrRmNpSXB6TVVOMXMzYmhXalo5ZXUwOTRzeWd5a0dhRmRXVGRkcFpLcGlVRjVVNzZ6cWFKc3dQUlI3c1NJcGpYZllkcEtOQkFsVHN4NDFEQnpYTWhGNjZjeFpXNGFIdG90Nm91OTBKRGNiV1ZCTFJJRlJ6bE1GQ0JqdDhaNFNMbXpydlZXdE1wd1J5dlBLMVhGV0xZeCtsTDI5V1U0WmkyMDh0N0ZqM2VkUVZGcUNiRWN4MkdmSzMySU00ZHBtVUdHS1A4YWZRN1E5V3RVcm1CdEx1TGlWOHpWZlE2am1Da1B0cDJabVByb3Q5c0dGbUlFV0lxSithNWZtcXJZTjQzRFExTnVpNWdldzFwMEZnYUpxa3A0RHhwUnl4aDllZU9sbmFKblVMT3QwVFk3aFdVTWkvVkFtVnV2VTF5RlVySHFxRVUwNmtmVmthczNqSUh0TW5VSzYrVWNwVG91NXRBdWFoald0SXNwNmxMVmoyM0lRUlYvRS9OMHgweFE1c1FqbEpFYmtOYTdjbzMraDQvaitQcG1abUtLeWFpS1lROXdWbU05NndQdmVJZWlFbDVqZ3F0Q0U3VnF0amtHY3ZGcWpPcEFuM3dOODlJckZCejF5RVF4azJqYm9zQWZ0UHhUQmhjWkVuTmM2cFVvaVF1MmFpbGlpanUySytCeFZMaGwxWTJLUXZaUjdBSzhwdWx5dVptMXBKaEJlbFZ5dzl6VVVYTlJqTTR4bDNXckZxUzNkVmM5UEE5YkNMNVQ1Q1NtbWdYYk5ESEFEcTBpR1BYWVY1Vld3cHZ3UTZrUVg5dE1WZE5MNi9NY0l3NTIyZmF4MWdwVEhOZ1lMY2E4c3NadHRqOTl4QndIVVdoSmUramFhdE9IaFVzWjVUMDZpcGNxdTA1QTY0dFppemZSTWpIWXMwclI5SEg5dEVROERYdk1xVnF4anZxblZpQzZqUjRkeGUrZ1QyZnJBQTJySDRHalpnUE42eGhzME9mRzhld3A3bUVGMXRlbW1LbDQ0MDV2aHhMdFRXMWNzMDJxamhGdDJQUTUyejVGY1VMRld5MzFOSzRzWThRMUcwWnRYT21tZGwrV1VUTnR6SndkNndaN2xKeWxKRFR5NlRwWWk5NDZ4Z1duRythcjdheGRqSHU3RGdXMVRCYzZHbXNzMXUxclc2M2daWW1TcGF4WWRsbGlvQnRIS29hb3JJYndyNVFZYzVjU3hCbXVtalh4TDFGWTlRUGU2TFoyTEFldDVpNWpuQjFZSHVvbVhJWU1ZblJzZ3g4cVovZDk2MWhnaWQ2OXhHekpBNEtwWVNoR3NpbW1yM25WUjBYZFhuZXNXa1huM291Um1yc0ttdlFMSzJCMU9UVXg4Rk1VUmdVYUY0bitFbzAyTm9vM3RsTVVSaFJSZmROczg2SkE4eEx0TTdFZThIUmY4ZGg2NnRlaGZQckVNaitZb3BmRU1CUURPdVBUdnF4dG9kV1VmaXozVGtzc1haVGZXZ0pvNm0yZkMxYk9zanMwYTZ1d3loaDFObXNzWTh3cGM4dlNRdlQvYVJoWWhJa1JZU24zV1I5RnhGeFc5cXFUbytDYUtORExZWW5KUVo4akR6R1N3UGg0cDdrcEtVR2pzOFVvZ2RIR0dCTldKZVMycVBSYmZmUVYwMERNemF5RmpNbWtrdkt2N3FleVdIcDlLQjN1YlZpYkMvalU5VElJcFZPTWxmbzBKSjYwakpUQk1mQXVVUXd5dU1mQUhRL25FN0hvRCt1T1JJT3ZnV3lLL1RKQnBDaDhYeTlSWGoxdFE5cmpBcktTRkhQTEdxcFZnTFZlbzF5QkI2R2FWZkhvSlR0TVRkVStqOTJ3TkxVQ0dURThONVUrRUpucXBtQ3BzTXdodCs0VklndHZ0Nm9zaDNwcEZGL2Y5MklkV3hZYjYzRWFDbVV2WTh5T1VXZFRLanZxT29xNnJtbTdwVlFZT3l3Nk5KMEt3S2dJT3NWV1VoWGF0eE1kYUdoRGFLbmREdTBXOGk3bkt1L2lSSG1YaVZuZVpTeVZkN1djakhlMUNJdDNtWFBrWFZwVzNsVVVFdTh5aWN1N1dGWGVwWlBMdTR6RzhpN25LdThDTDNsWG56L2hYV1p4ZVZjN2IvQXUxMXplMVRpVjNHVjZFbmVaVXNSZDdqNXhseG0vd0x1NFZ0NVYzaGZ2TWhMS3U4eGw4aTVHazNlNTErVmRKaVY1bDBGUjNxV255THNvVzk0Rk8vS3VscER3TGpldHZBc1o1VjNtY1htWDNpcnZNb0RLdXhoSTNzWC84aTREaDd6TFhDYnZNcnZMdTJCVzNoWGY4YTcycE9CZGZleUJkN203NUYwb0t1OXFJeHplWlU2WGR4bm81RjA2SnR3RlJtaVgrMXZhVmZnZDdZSUdhUmNpUzdzTXRRWGMxU2VNY0plSlU5elZoOVJ3VjhVZjNJVnM0aTZUZ0xqTHJWSGdYYW8yZVZkeXhyc01hUEt1MW9Md0xrZGVBRjVGT0FFdmQyZUJlSmt3SkY1b0RYaFpleFI0cVNvRVh1MVRCTHp3UWVEVmdoZmdwY0FUZUdsUnZNdFVXQUJleGdlQlZ6di9BQy9sanNDcmlDZmdoUm9DcjlaREFDK1ZaNEY0R2FNa1huMHFqSGkxVVFYeE1rQkx2RlJmRXUvcEtZd0plUmxrUkY3cVg1RlgxUWJrMVpJdzVJVXJCZVlGeHpLdkFtMllseUd0QUwwS0RJQmVKVVpCcjJwdzBFc3hWNkJlTlhDcklHVHdEUFFxMWcxNmxYMEh2VlF4UWkvV0VIbzFMSU5lTGd2bXBaeVVlWmsyWlY0dDBHQmUxUkE1TjFQWXk3eks1R0ZlckNMeklraVpsMmxWNXFVSWxYa3BDMlJlT0NUemFuTVc1bVU5UU9aVm5BbnpNclhMdkdoVDV0VUhoSmhYbSs0d0wvT1V6QXVkWkY0cUtabVh3bExtVlRBTTgxS2x5THpRVk9abHZwWjVXZXVRZWFrM1pWNllWWUJlSmgraGwwSkk2S1gwRjNxVlBRTzlNRmJvVlJrS2VsbUZFWHFaQUlWZUJXNUFMd0FYZXJHSzBLdktIdlJTVmdtOWFGTG9aZUlWZWxsa0VYcVZ2QVc5eUVqbzFlaVI1cVVFazNtMXVJQjVtZVZsWG5FVTgycmZLdVpsblVmbVpZRkQ1cVdrbEhrcEFtUmVoYVl3TDJ0Tk1pK1Z2Y3dMYUdWZXhsaVo5NGs0SFFzcmV5UHljcXNoWG9vSWlWY0RGZUpsdFV2aVpVNEJ2RnFMQTd6VUVBS3ZQdkVHdkt6OUNMd1Uyd0l2NVp6QWkzd0ZYdFl4QkY3S1NJRVgzQW04cWtJQTczRlRGVXJhQVY2Y0xmQlNFQXE4MnVlZTNtVXBSZDVsVlV2ZTFlZE9lSmZTUk43VjNtaTh5eEtOdkV1RkxPOVNKY3E3Z0ZyZWxVQ1N1eXlzRlhnWE1zcTcxRGJ5THNXMHZLdXRNSGdYdmN1N2xKbnlMbVdadkt2OXBIaVhoVE41bC9VTGVaY0tXZDZsYkpCMzlSa2gzcVV5bDNmeHNyeExDU2Z2c3F3aDc3S2tKKzlTdXNpNytoQVI3MUt3eTdzc1Q4bTcybTJMZDFuR2tYZEZMcnlMbCtWZEZzUGtYWDBNbWR5bFNCZDNxVnpFWGRaMnhGMFdOZ3U4cS82TWQ2a2k1VjJXTGVSZFZ1bmtYVlZQZUplQ1h0NU43ZmJzVXV2bFhUcSt2TXQ5THU5cWJ4TGVCV255THBpU2Q3WGtoWGYxMldseWwzRkwzR1U4RkhjVndJVzcrbDBFY0JmaGlydTBoYmdyTXNKZEFSWHUwbi9FWGJxbHVNdGtqSGE1aWFSZFJGTEFYZndqN2lvQUIzZVpHOFZkSmVUZ3JuSUtjSmRlSis3U1o4UmRabmh4bDVsWTNHWEtGSGNWd1lLNzlGQnhWeDlnd1YxNmg3akx4UlYzbVlyRlhTWk5jUmM1aUx2TThPSXVONzI0eTJBaTduSWJpYnU2TytFdTFoRjNtY0hGWFJRbjdtclhKOXpWYWhyY1Zjd1k3akkxaWJ0TWVlSXUwaGQzOVFsV2FwZTZSTnFsQ3BKMm1Vd0t1TXRjVU9CZFJtZDVGMm5DWFcwemhMc1FXTnhWUmhYdU1oQ0x1OHFHd1YwS0FYRlhlUnU0QzhMRlhVWjljVmZSVnJqTEpDWHVha2FFdTVSOTRxNjJ0OE5kNWFyZ0xsV1F1TXRrTHU0eTZZcTdRS1hBdTRCQzN1VXM1VjJ0elNkM2xSMU83U0pSYVplUld0clZrQXAzbFNpSHUwd0E0aTZLRkhlNUQ4UmRKV3JoTHR3VGQ3bjl4VjE5K0FkM0dkbkVYY1pSY1pjeEFPM1NOR0QzYWNKTTdJcTZuYkRMUUN2c2F0OEUyTldLUDlqVkIveGdGMW9MdThCQjJOV21LN0NydlhaZ2w5bFAyR1dhRW5hMVZnWjJ0YWtVN0twZ1JidGFPa2U3K21BWjdjcUphQmZQU2JzWVRkclZKMXBvVjlVVjNLVm1FM2UxRlFqdUtrUUFkN1dDa0RNejFoSjNBWVc0cTgyNWNGY1ZKTnhsVUVhN0ZMelNMdVdxdEl1NnBGMTRKTzJLUEdoWHY3Y0Y3U285am5hcDRLVmRGaEdrWFJZbnBGMWhHTzFDYjJsWHVFUzdVRmJhcFk2U2RpblBwRjM5N2dhMFN6VXA3ZUlNYVJmVVNMdE04dEl1b3BCMktTcWtYWW9DYVpkNlNkcWwycEYydFRpTGRwbXRwVjFtVldsWHU1SFFMcldWdEV0bEpPM3E0eG0wcThXMnhLNG1hN0RMckNyc2dndGhGd1FJdXhTL3dpNUZkWUYyS1NlbFhhMzhvVjM4SXUxcVNSM3Rhajh6MnNXQjBpN3JPZEl1NjBUU0xvc3AwaTZMTk5JdU5ZRzBTd1VpN1RLTVNMdFVUTkl1NnlvRjNHVlZSTnhsbmFMQXU2d3p5THZLZGVGZC9TSU92RXNoVUFCZXhRd0FMN29YZUNrYUJGNWFCKzhDZG5tWGhRcDVsMFVSZVpkbEZYbFhpemg0bDFKTzN0V0NJZDQ5N2lyOWhnbDVWOHRhZUpmMUozbVhOZmNDOExLMEp2Q0NiNEVYT2d1OHlGZmc1VXU4eTlxQ3ZNc2lnTHpMVW9pOHk1cUZ2QXNKQzhDcjNDN2dWZTRDOEdJM2daZVNXT0NsL2haNEtmWUZYbFlVQkY3c0p2QnFIRW52SWsxNUY4SEt1NndMeUxzc1BzaTd5akhpWFZZQTVGMU1MKzlDY25sWGU2M3hMc1dHdkt0ZmlJUjM5U3NaOEM1ckxQSXVheUh5TGdXdHZFczVLdS9xVTFHOFMva3M3N0o0S3UreXlGa0FYbTJLQTd5c01BcThHbGpUdS9ybFdIaFh5L0I0bHlKVzNtWHRUdDVscFZEZTFXZGhlSmQxSW5rM3RUdWtkcFZqVU5GU3lydThwYnhMeThxNytFWGVWUmZIdTRJdDNtVkFLd0N2Ump6QWkzRUZYa1lJZ1plUkZPOXlsZVJkN1FQSHUvUWtlVmQ3QVBBdWwxSGVaVUtTZDlVQkFTOHpzOENydlVLQUYxc0x2SXhNQWk5ZUUzaWxOTUNyY0IvZ0Jlb0NyOEtjZ0JjdENiejBjWUdYbVZEZ1ZZd1k4SUk3Z1plUlZPQ2xRQkI0R2UwRlhqZ2w4SExMQ2J5YW1BRXZYVlRncFE4THZNelJBaS8zcE1DcmhYckF5OVFoOEZLdkNMd005d0l2Z01TNytoUUE3NnFld2J2NkhYTjRGNkhLdTl3NzhpNWlLQUN2Zmk4YzRKVVVBYS8ybmdGZWJSSUF2UEJENE9XV0t4QXZOSlo0TmVNZ1hvWlh3TXRVS2ZBeUtBdTgraVZkZ0JmcDQxMUtFSGxYWXlQZWZkcnBwVnlXVWd6NlBVcWR1QXVteEYxdWFYRVhxb3E3aktqaUxxV1B1SXRVeEYzdEM0Uzd6Q2JpTHJXUnVBdHdDcnhMNlZNQVhxWWJnUmZiQ2J6YWZ3UjQ2WTk0bC9GZDNtVUNrSGZ4c3J5cjRDcmVSWS95TGxPWHZLdUFGZDdGWVBJdWxacTh5OXhWQUY2UVhDQmVSaGlKVjk0dEpGNUtKb2tYTGttOFNnb2dYdjArd0FRdnlCSjR0YTROZVBXTE13QXZoUmJlWmVTU2Q3WFlnSGNWZThDN1hEYTRxODhVNEs3Q0FYQlhvVFc0cTVRczNFVjg0aTYxb0xpcmZBTGNCUi9pTG1XaHVBc0p4VjNsd09HdVByTE9pVm0vUXdydU12cUt1MVFJNHE0K0VZTzdxc1h4THBDUmQrbTY4aTVIQTNjcEdzUmQvV28zdUV1UkkrNVMyWWk3MnVBT2QvVjc0dUF1azRXNHEwM1JjQmNxaWJ1c0FZaTdjRm5jMVcrV2dydFlTdHpWQWpyY1JkbmlMaVdWdUl0MHhGMEtJbkZYdjJZUDdqS05pYnZVUnVLdWZra2UzS1ZxRTNmMTRUYmNaYzFDM0FWODRxNSsxeExjVlJJWDdtcUxPOXlWb09BdTVXS0JkN1hBaW5kWjFKQjNFYUc4eTRxRHZNc3lnN3lyL0EvZTFkb1YzbFVHRU85U3A4cTdUNzhVYTN1S2dvN3lMak8vdkVzaEsrOWlPM21YRWxEZWhRYnlMcXNlOGk2Q2xYZFptcEYzcVlQa1hRb2xlWmRWR25sWHU0YnhMZ3NyOGk3T2tIZXBTT1ZkQUNydjZsY2I0VjNxU1hrWEFjbTdxdXdCTDZnVWVLbVZCVjc5MmgvQXl3S0d3S3NQVndBdlJZckFxNlFINEQzdXEwSy9nZzd3aWtqcFhkWVo1RjJVSnU5UzNjcTcyamVMZHhsODVGMTlBSWQzS1lvTHdFdHhKUEN5c2lMdzZqZFlBVjR0QlFKZTdaUUV2SlJpQWkvTE5BSXZTeTk0bDJKYzNsVzRITzlxQVFUdkluSjVWenYwOFM1RlpBRjR0V0VOOEdvcksrQ2xnQlo0UWJMQXE5LzdCSGhSdE1DclBRT0FWNy82RHZEQ2FJRVhXd3U4VkdVQ3J6NWtBcnhVdWdJdmE1QUNyOG8yd01zaW1jQ3JuQm5nWlpGUzRFWDlBaThyVUFLdmRpQURYdVlvdk1zeVFRRjRsU1ZJN3lxZGhuY3BGZVJkZmk3dlVvSEx1OHJQNFYzOUNrRzhHOXI5OS94OXUrOGx6eXk2WnNrMGkySll1czdTYzViTXNkaW5wWUF0djJkeFVzdFhXQ3JHUWxBV3FyTVVqK1hjTE9aam9UbkxlRmlPMFZLWmxqaXhjSlZGZHl6clpUa3J6NUFkc1M5TENWcXd5V0pVbGlpeG5KdWxjUzNvYW9sVVM3SllXTW1pc3BZM3MreU9SV2dzeW1oUkkwdmpXcGJaRXRtV3FMSk1zV2V5M2lXY2oxaWV4Ymc5Z0hmRXVEMVlmY1FYTFpWazZTR1BKeDhwTmt0YldoRGNvbzRlVC81ZzN0cXluNVpxOWJqZkVhRzFHTEdsdHl4SloybHBDMVJaQXRxU2w1Ykh0UVNaSmVZdEpHVkJiNHNsZWJEdlNPRjY3dlhJdGxucXppTFNSK2o0U0JwYjR2ZkRlVGVMYVZsTzBaSlRGb3YyMlBLUjdiYlE2UkdXUHZKWXRqL0FBcTRXY1BZTTl4SFJ0Q2lsSmFBdGwybDViZ3VpV3VUVVVxQVdLYmRRbVNVYUxSN3A4YndqaG05N0NaNlRZdS9uMWl3c2FIRkQyNjVnbXcwc08yY3Bhc3U5ZXY3YzloMGNTVW5QbkI0QllvdkFIM25ySTd4dHV4VXM3V3poYllzYVd4YmRrNG5IWmdUYlAyRGhYOHNYVzF6ZVVvR1dPTFV0RnhaenRJUzViZnV3b0tTRkgyMnZnVzBQc0kwamxzaTNyU2UyZWNKQzdwWk90YlNucFhTUFBMdG5uQzNDYkZGTHk0SmJ2dExpcTdiZndhTHJsck8yYktsdEViQlU4WkY5UDZMK0ZwNjAxS1lsN2kyWWJrbGoyNEJqMlYrTHR0c2VFOXNMWXB0YkxBNXQrV01MOFZxMDFPS3RsclMzalRDMlpjS1N4cFpNdDd6NkVlcy9ObjFZN05sMkdOaEdEZHVuWk1GUzIwUmt1eGhzdTRwdHBMQzB0QVh0TGV0c3UzMHNnbTVwWGN1dVdzcmQ5aWtkZXgrTzZMQ0Y3eTFGYnlGNDIxbGtxWDhMODFyKzJUYUwyQlloaXhuYkJnQkx5ZHUrQWR1QlplRnZ5eGJiN2hyYjFXSGJieXpWYi91TmJBK1hKZDl0bjR2RjBwKzNhS1YySzJuM1NKMVphczFTYVJiRnNHU2RCZWNzbUdPeFQwc0JXM2pQNHFTV3I3QlVqQVdnTEU5bklSN0x1Rm5LeHdKem52RTRZb3lXeXJURWlRV3JMTHBqTVMvTFdGbDh6QkpmRmhDMFhKTkZxQ3hSWWhrM1MrTmEwTlVpcVJabHNheVNSV1V0YW1iWkhZdlFIQ0hHSTJsa1dWeUxNbHNlMitKVWxpaTJRSllGbkMyUlp6RnV5OTVaak51QzFSWmR0RlNTcFljc25td0pOZ3RhV2hEY1lvNFdULzV3M3RwaW54WnF0YVNmSldndFNHenBMVXZSV1ZyYUFsV1dnTGJVcGNWeFBVRm1pZmtqSkdWQmI0OGxIYUUrQytGYTV0V2liVWZtN29oSVcrVFljc1lXK1AxdzNzMWlXcFpSdE9TVTVhSXR0R3paYmd1Y1dscmFFbG0yUThEaXJaWnd0aHkzNVRNdFIya1JhQXRsV3FUYllxZ1dPTFVJNkJFcVAxSmxsbWYwYU9RUno3TVl2dTBsZUU2S3ZaOWJzN0NncFExdHU0SnROckRzbkdXb0xmSnFBWFRiZUdCQlNZdWJXbmpZUXZDV3RyYnd0dTFYOEtqekVkNjJvTEdGMFMyYmFOc1JiQWVCUlg4dFhXeUJlY3NGSG5uVFk4K0Z4Und0WDI3YlBpd29hZUZIMjJ0Z0d3UnM0NGdsOG0zcmlXMmVzSXk3aDFPUHRLY2xkSTgwdStlYlBiNThSQzB0QjI3NVNrdXYybjRIUzYxYnh0cXlwY2NHZ1NOUGJLbDNTL3BiZU5KU214YTN0MUM2cFl4dEE0NEZmOStGMm0ySGllMEVzYTB0bG9PMjVMRWxlQzFZYXVGV2k5amJOaGpiTDJFcFk4dWtXMUxkOHZ5MjY4TWl6N2E5d0RacTJENGxTNWJhSmlMYncyRGJWV3dmaFVXbExXVHZVZWRqdDQrbHp5MnRhK0ZWQzdqYlBpWGIrR0RoWVl2ZVc0YmVFdkMydDhneS94Ym5QUUxReDJZUjJ5SmtNV01MLzF0QTN2WU0yQTRzeTM1YnR0aTIxOWlXRHR0L1k0RisyMjlrZTdnczlXN2JYQ3lVL3J4SEs3VmJTN3RIN014eWF4WkxzeWlHaGVzc08yZkJITXQ5V2dyWThudVdKL1Y4eFpHS3NRaVVKZW84eEhPazNDemxZNGs1eTNoWWp0RmltWlk0c1dpVlJYY3M2T1VwcXlOQVpxRXZqd2dlc1NZTFVWbWl4Rkp1RnNlMXFLdGxVaTNKNGxtbEl5dHJhVFBMN2xpRXhuS01Gald5T0s2bG1TMlJiWUVxQ3hWYkpNc3l6cGJLc3lDMzVlK09JUGNScmJic29xZVNqdlNRNVpNdHcyWlJTMHVDVzlEUjhza2ZEbHhiOHROU3JaYjFPeUswUjQ3WXNsdVdvdk93dE1XcGpnQzBwUzR0am12eE1jdkxXMFRLY3Q0V1NySlFuMlZ3TGZScXdUWkwzRmxFMmpQSFI5RFlFcjhmanJ0WlRNdFNpcGFjc21DMHBaWXQzRzJSVTR0TFd5TExkZ2hZdnRVU3poYmt0b1NtUlNtUENQU1J5clJFdDhWUUxYRHFFZEFqVkc2aE1zc3pXampTMG5tV3c3Zk5CTTlKc2ZkemE1WVZ0TFNoNzFjNHRodFlkczVDMUJaNnRRUzY3VHl3b0tRbFRqMDlmS1RnTFhCdDZXM2JzR0JoNXlPOWZRU05MWXB1d1VUYmpXQWJDQ3o2YStsaXk4dGJLdER5cHJicHdsS09GakMzZlIrV2s3VHNvMjAyc0EwQ3RuUEVJdm0yOWNSMlQxakkvY2ltSGxsUFMrZ2VjZmIzOHMxSGZObUNsaFlEdDNTbFpWZHR2NFBGMWkxamJjbFMyeDlnaVdJTHZsdlUzOEtUbHRxMHhMMmwwaTFuYkR0d0xQbHJ1WGJmWkhKc0JySGRMUmFHdHZTeFpYZ3RXbXJwVm92WjIwNFkzekp4NUl3dGwyNXBkUXYxMjhZUGl6M2JIZ1BmcTNIc1ZMSm9xZTBqT3ZZeEhCdFdiQ09GWmFVdFptOUpaOXZ1WS9sekMrdStpNjVhd04yMktkbk9CMHNPVy9UZU12U1dnTGV0UlpiNXR6Q3Z4Wjl0dDRqdEViS1VzY1gvTFNKdnV3WnNDNVpGdnkxYmJQdHJiRmVIYmNDeFNMOXZPRG8yY1ZudTNUYTZXQ2o5ZVpOV2FyZVJkby9jbVFYWExKZG1TUXpMMWxsMnpuSTVudnM4VXNDVzN2TTQ2Wkd2c0ZDTVJhQXNVbWNaSGt1NVdjakhJM05IeHNOeWpKYkx0TUNKUmFzc3VXTkpMMHRaZVlMc0NIMVpSdEJpVFJhaXNrU0p4ZHdzald0SlY0dWtIa0dXSTZsa1NWbkxtbGx3eC9JekZtTzBuSkdGY1MzS2JIbHNTMU5ab3RqeVdCWnd0bENleGJnOWZuZkV1RDFaZllRWExaUms0U0dQSng4Wk5zOWFIa0Z3Q3pwNlBQbURlV3RMZmxxcTFjTitSNFRXYzhSSGVNdHlkSmFXdGp6VmtZQStZcGVXeHJYNG1PWGxMU0ZsTVc4TEpYbW83OGpnV3ViVmNtMld1TE9FdElXT0xXbHNpZDhQeDkwc3BXVXBSVXRPV1REYVk4c1c3ajR5cDBkYytzaGoyZjRBaTdkYXdObEMzQmJRdENDbEphQXRsV21CYnN1aFd1TFVNcUNXS2JkTW1lVVpMUnhwNFR5TDRmdG1ncWVrMlB1eE5jc0tXdHJROWl2WWJnT0x6bG1JMmxLdmxrQzNqUWVXazdURXFjV0hMUU52Y1d0TGI5dCtCVXM3VzNyYm9zYVdScmRvb20xSHNCMEVsdjYxZ0xGRjVpMFdhSWxUMjNWaE9VZUxtQjhiUDQ2Y3BHVWZiYk9CN1Erd2pTT1d5ZmV0SjhmbUNRdTVXemJWd3A2VzBUM2k3QjV4dGdTekpTMHRDVzd4U2d1djJvWUhDNjViek5xaXBiWkZ3RExGUi9MOWlQcGJkdEpDbTVhM3QxaTY1WXh0QTQ0bGZ5M1libnRNYkMrSWJXN3hNUFNSUHJZSXJ5VkxMZDFxT1h2YkNHTjdKaXhuYk1GMGk2c2ZvWDdiOVhHRW5tMS9nVzNWc0gxS2xpdTFYVVMyaWNIMnE5aEdDc3RLVzg3ZWtzNjIyOGNDNkJiV3RleXFaZHh0bzVKdGZiRG9zS1h2TFVadklYamJXMlN4ZjB2eldnRGF0b3ZZSmlITEdkc09BRXZKMjhZQjI0Umw0VzhMRng4YmJJNU5IYjcvNXNqMDIzNGoyOFJsdVhmYjUyS2g5T2M5V3FIZGRkc3ZYcjY4dmJzOXYzeDUrYmk5Mms4L2JHK3Z2dmo0bzQ5dTk0dFgyOTFsL3ZQdTlmbmk5dTR5N3BHQWJWM3g0NDhlcHR2SDdlSi9USzkrM1A3dDRlSDF3K1VuLy8zdXArblY3WG9SVDdsNHZQMzc5c2xWUE81aGZiek8xLzM4N3VIeDV2a0ZYM3pKdDE1K3MxM2YzQlF2ZnQ5YzdLOGZMbTdqVFM3ZVBFeDNmOWt1NDJtZmxzZmoxbi8wdUllNzllVVB5L1hUdjMvZmZQbk4xOWZQNy9hSFB6UmZubis0dm5rOFAveTRuRC8vOGU1K1duNjQvT1NQdDUva3lkN2Nmbkg3YWZQaUtsNy81eTllbko1ZjR0VGtleXl2Nys1ZjM5NmR0NGZyNHN2ejlUZGZ4L245OGpuZmZLMEdlajdGbTlzNGdCYzN0Ly9hdkxnKy8zQnplNXpVVFJ6dFo1ZjU0eXYvZVR6NWI5L2R2dG91emhkZlhlakVlTUh6T1gvK3pkZWZsUy9pZk9KNHY3Mis1SnA5L3FlYnkvUDVqMzhzdTZ2L1VyWHRpNisrcXBxcmI5LzcwZkQ4azNqTXU1K2N6MC9mSEs2KzlRZkhzL25CMHdQenZHL3M1UFg2Vjk0ZW4xNlhlWVRSWjc3NStuZlhBNGY3aTZZcDN6Vk5uRXVlNkxlY2I1eE9mbTk3OWJqOSt2UCs4SWZxMTUvNnJtWGlVVStOdzlmWlFPK2Y2cTgweXZDejFqb2EwcHZydmJaUkczendlSG52VDMvN2JMKy9MdkwvZEoyLy8rcWJyeSttdS9YaS9KVmQ3cU1EbmVsQTU2Y084djNQTzlCWkhjaCsvbjFjankvUHVpaDVkQS92dFdZOFNRZVdQL3IrdmI3YlBCMXhOT2p4SGkvZWY4djg1MU83L252NXN3Nmo3MWJ2dCtMVGQrdjNHdjNwbTgzemxiblNXTFRkTFRFYWFTUzZQL3RBRlAvNjNYWFovY3JZODdlSDEzZC91WmhmdlY1K3lFZi81ZnpkdTlFbm4vemNsRmVmbFY5ZVBwYW54K3IwV0Y5ZDM1U242bFMvK0hLaTVNKy8wWG11Ynk1ZkxuK0w5N3RwZm4vN1JmeVhvOE8zN3k1R0ViZnFpNnRmM3ZaeENmNXhhOTkrc0xXbmVNV25GdjF6dG1qODgrZHQrdWRzMDV2TDIwOGZ5NnU0emo5djNEL1h6eit1OU9QM1d2blAwY3I4c000ZjJnL3lmQjQ0SDhhWDYrWDEvZHZQODM4dUoxcnZNUnJqeGNlL2NlaEhQOW15TCtaTGZSblArbnk2djkvdVZodWQzaitsNTA3RFA2OSs1UmtmT3RubmZ2VVBuL2l6Wm5qcWViLyt0Riswei9tc0IyY3piT2NmSCs0dTRsbnFvK3QyOU5IbHZUNGEvN3I0M2ZYRi8yRXZYWC9lUyt2b3BlV0hlK255d1Y2Ni9yL3VwZTJ2OU5MdXQzdHAvNXU5ZFBqVlhyciszK3FsNjIvMDB0dC92cHZlL3FmNzZlMS9zcVBlL2xNOTlYNWEzeHRLbHhoQVA3dDhHazMvTlk3dmVNNzkrZFA1N1hsN3ZGeStlN2hjcm42L25ENzU4YngvTm56eU5EQ25tbjcrWWpGRWFqcUw3bjkrZTcvRjgzNTNIUjZnMFpmcjF3OXJmTWZmNHVhTHo1WVg3d2I2aDdmM1o3M2k3VTgvRyt4dmYvcXR3VDY1ZWh2VS9QdDB2bjE5ZC9IVHRwemowdi8xeDhmenhiekYzWGZCbVhCcnZWT0ZPc0NyWmI1KytWak4rUWJ4M2Z1bmpwR25GZ2R3SE9yMjEvdnoyOCsvRDl4YzN2Q0luSmZteTVrN2FzNCt0bnozNDkwUGovR3NVelNqejE3elB6OTUzYithVWxGdnprOUR3d2ZQSkk2Vkk0K1grdkkrVHVQbTh2N2JWM2s4bC9lblYxZHhSSCsvdmMvRGVYZWk3L1NjSi8zdUpPS000dGwycWkvbjZ2SHllTks3SWU2OXE3UDgvN2c2eDZBYVhmVjMxOFd2dk45eWUvL2Q5a0R6UGIvSkZGKzlPdC9laDYxZTcvR1duOWo1OGxicXpiKzR5am15ZitncUwwOVgrV2lkNTh2OGkvSC9OeHJHRHZRM3J2TnpHeXg1bmM4ZnZzenZEamFPUEs3WnIxenpaZjdaVmM0dS9yOEJpVXVFTnc9PScpWzBdKSksJ21ldF9hZXMnLCdleGVjJyksIG1ldF9hZXMuX19kaWN0X18pCmV4ZWMoY29tcGlsZSh6bGliLmRlY29tcHJlc3MoYmFzZTY0LmI2NGRlY29kZShjb2RlY3MuZ2V0ZW5jb2RlcigndXRmLTgnKSgnZU5xZFZFMlBtekFRUFlkZjRSNGliT0ZFd1ZGV3EyamRRMDg5OVE5RUtES3hVNndDUmpaMDAzL2Y4UWRobTI1NzJBdVl6SHR2NXMxNGt1bHVNSFpFN3Blam5SZ2Jha1V2VFVkcjNRdDMwUm9KaDJwQmpjdXUxblRJalhhNmpDaVJwbjRRbHg4ZU1yMFg5c0ZNTzRhNGw5LytWTlpwMDU5MWZ6V25YZld5ejZTNm9uckVOVGxtSzMxRkFJWER5cXB4c2oycXMvbGtyQVJNUkRNZDRTbWtlNkNMYmMzRXVWRTNDTkh5S1NJMXE3SDJ5SWJuNjF1KzFpRkZxM3Jja0RYanZQU3BHc1R6WFY0MElkYWJjUzZoNGMxVzlSY2pGYzZuOGJwNXpzazlKYVFUckE3cG1waktPZ3dkU2liRXlWU2NneXZ2SHVkZmNycTdQWmVFTE03d0ZINEdZRkZXQkRwQldXRkFYN1dKampoSER3THNVZUR6MTZSd05NVStxdXk5U3FnSGVwVHFvUVp4S005L3pnWndmVEpBMGhXRng5elZUdDJuVUlQV3B3Y0QrOTBmK2IrWlhsSC9BTkV6TlRGRFNSTGRQTkRaUDdtNGc3cDRMTGY0QUY5eFFCZnNXQzNlNEg1MGhQcVhJdEdjVk5iYms4bWUvSkE5R2V5OU5ycFZ5THo0V3hUMG91RGZBNThGVjZiZ2Nkb3l6WXFGV1VFb1RQczk3dTZ3Y05sL2dmc0V2TmNZbTdoc1VQQWRFbGNrS0RsMVhPSnZmY1pyTE01dzZURTBqSGJ1dTlmdXFPSnovNVFsZnBsU0FiNENtRXkya253cENUNWJ6ZzVQbTdobTRlV1ZOckZoMldyZ3htMm4rQmVERHlValc2dUdWbHpVRzErRXhuTk9scDN6eXp5WTF6RGVwaGhPeDdZcVpPR2xxYUlkQUg4RFJnZGVKQT09JylbMF0pKSwnbWV0X3JzYScsJ2V4ZWMnKSwgbWV0X3JzYS5fX2RpY3RfXykKc3lzLm1vZHVsZXNbJ21ldF9hZXMnXSA9IG1ldF9hZXMKc3lzLm1vZHVsZXNbJ21ldF9yc2EnXSA9IG1ldF9yc2EKaW1wb3J0IG1ldF9yc2EsIG1ldF9hZXMKZGVmIG1ldF9yc2FfZW5jcnlwdChkZXIsIG1zZyk6CiAgICByZXR1cm4gbWV0X3JzYS5yc2FfZW5jKGRlciwgbXNnKQpkZWYgbWV0X2Flc19lbmNyeXB0KGtleSwgaXYsIHB0KToKICAgIHJldHVybiBtZXRfYWVzLkFFU0NCQyhrZXkpLmVuY3J5cHQoaXYsIHB0KQpkZWYgbWV0X2Flc19kZWNyeXB0KGtleSwgaXYsIHB0KToKICAgIHJldHVybiBtZXRfYWVzLkFFU0NCQyhrZXkpLmRlY3J5cHQoaXYsIHB0KQogICAgCgpfdHJ5X3RvX2ZvcmsgPSBUUllfVE9fRk9SSyBhbmQgaGFzYXR0cihvcywgJ2ZvcmsnKQppZiBub3QgX3RyeV90b19mb3JrIG9yIChfdHJ5X3RvX2ZvcmsgYW5kIG9zLmZvcmsoKSA9PSAwKToKICAgIGlmIGhhc2F0dHIob3MsICdzZXRzaWQnKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIG9zLnNldHNpZCgpCiAgICAgICAgZXhjZXB0IE9TRXJyb3I6CiAgICAgICAgICAgIHBhc3MKCiAgICBpZiBIVFRQX0NPTk5FQ1RJT05fVVJMIGFuZCBoYXNfdXJsbGliOgogICAgICAgIHRyYW5zcG9ydCA9IEh0dHBUcmFuc3BvcnQoSFRUUF9DT05ORUNUSU9OX1VSTCwgcHJveHk9SFRUUF9QUk9YWSwgdXNlcl9hZ2VudD1IVFRQX1VTRVJfQUdFTlQsCiAgICAgICAgICAgICAgICBodHRwX2hvc3Q9SFRUUF9IT1NULCBodHRwX3JlZmVyZXI9SFRUUF9SRUZFUkVSLCBodHRwX2Nvb2tpZT1IVFRQX0NPT0tJRSkKICAgIGVsc2U6CiAgICAgICAgcyA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX1NUUkVBTSkKCiAgICAgICAgcy5jb25uZWN0KCgnNi50Y3Aubmdyb2suaW8nLDE0MzMwKSkKCiAgICAgICAgdHJhbnNwb3J0ID0gVGNwVHJhbnNwb3J0LmZyb21fc29ja2V0KHMpCiAgICBtZXQgPSBQeXRob25NZXRlcnByZXRlcih0cmFuc3BvcnQpCiAgICAjIFBBVENILVNFVFVQLVRSQU5TUE9SVFMgIwogICAgbWV0LnJ1bigpCg==')[0]))
